import{r as e,j as n,c as I,Z as K,s as F}from"./iframe-cr0zOun_.js";import{I as Z}from"./Image-4HRuckKw.js";import{B}from"./Button-h0PXfIYi.js";import{g as G}from"./generateAspectRatioClass-CefTNpDa.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const H={currentSlideId:0,goToNextSlide:()=>{},goToPreviousSlide:()=>{},goToSlideId:()=>{},isAtEnd:!1,isAtStart:!0},T=e.createContext(H),N=e.forwardRef(({className:a,nextLabel:c,previousLabel:d,...u},f)=>{const{goToNextSlide:l,goToPreviousSlide:m,isAtEnd:g,isAtStart:o}=e.useContext(T),_=e.useCallback(()=>m(),[m]),v=e.useCallback(()=>l(),[l]);return n.jsxs("div",{...u,className:I("ams-image-slider__controls",a),ref:f,children:[n.jsx(B,{className:"ams-image-slider__control ams-image-slider__control--previous",color:"inverse",disabled:o,icon:K,iconOnly:!0,onClick:_,children:d}),n.jsx(B,{className:"ams-image-slider__control ams-image-slider__control--next",color:"inverse",disabled:g,icon:F,iconOnly:!0,onClick:v,children:c})]})});N.displayName="ImageSliderControls";try{N.displayName="ImageSliderControls",N.__docgenInfo={description:"",displayName:"ImageSliderControls",props:{nextLabel:{defaultValue:null,description:"The label for the ‘next’ button",name:"nextLabel",required:!0,type:{name:"string"}},previousLabel:{defaultValue:null,description:"The label for the ‘previous’ button",name:"previousLabel",required:!0,type:{name:"string"}}}}}catch{}const R=e.forwardRef(({children:a,className:c,slideId:d,...u},f)=>{const{currentSlideId:l}=e.useContext(T),m=e.useMemo(()=>l===d,[l,d]),g=e.useMemo(()=>I("ams-image-slider__item",m&&"ams-image-slider__item--in-view",c),[m,c]);return n.jsx("div",{...u,className:g,ref:f,...!m&&{inert:""},children:a})});R.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{slideId:{defaultValue:null,description:"The identifier of the item. Must match the key or order of the slides (starting at 0).",name:"slideId",required:!0,type:{name:"number"}}}}}catch{}const q=e.forwardRef(({children:a,className:c,...d},u)=>n.jsx("div",{...d,className:I("ams-image-slider__scroller",c),ref:u,children:a}));q.displayName="ImageSlider.Scroller";try{ImageSlider.Scroller.displayName="ImageSlider.Scroller",ImageSlider.Scroller.__docgenInfo={description:"",displayName:"ImageSlider.Scroller",props:{}}}catch{}const O=e.forwardRef(({className:a,imageLabel:c,thumbnails:d,...u},f)=>{const{currentSlideId:l,goToNextSlide:m,goToPreviousSlide:g,goToSlideId:o}=e.useContext(T),_=e.useCallback(S=>{const b=S.currentTarget.children[l];if(S.key==="ArrowRight"){const p=b?.nextElementSibling;p&&(p.focus(),m())}if(S.key==="ArrowLeft"){const p=b?.previousElementSibling;p&&(p.focus(),g())}},[l,m,g]),v=e.useMemo(()=>d.map(({alt:S,aspectRatio:b,src:p},s)=>n.jsx("button",{"aria-label":`${c} ${s+1}: ${S}`,"aria-posinset":s+1,"aria-selected":l===s?"true":"false","aria-setsize":d.length,className:I("ams-image-slider__thumbnail",l===s&&"ams-image-slider__thumbnail--in-view",G(b)),onClick:()=>o(s),role:"tab",style:{backgroundImage:`url(${p})`},tabIndex:l===s?0:-1,type:"button"},s)),[l,o,c,d]);return n.jsx("nav",{...u,className:I("ams-image-slider__thumbnails",a),onKeyDown:_,ref:f,role:"tablist",children:v})});O.displayName="ImageSlider.Thumbnails";try{ImageSlider.Thumbnails.displayName="ImageSlider.Thumbnails",ImageSlider.Thumbnails.__docgenInfo={description:"",displayName:"ImageSlider.Thumbnails",props:{imageLabel:{defaultValue:null,description:"",name:"imageLabel",required:!1,type:{name:"string"}},thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!0,type:{name:"ImageProps[]"}}}}}catch{}const P=e.forwardRef(({className:a,controls:c,imageLabel:d="Afbeelding",images:u,nextLabel:f="Volgende",previousLabel:l="Vorige",...m},g)=>{const[o,_]=e.useState(0),[v,S]=e.useState(!0),[b,p]=e.useState(!1),s=e.useRef(null),j=e.useRef(null),V=e.useCallback(r=>{const t=Array.from(s.current?.children||[]);r.forEach(i=>{i.isIntersecting&&_(t.indexOf(i.target))})},[]),A=e.useMemo(()=>({root:s.current,threshold:.6}),[]),C=e.useCallback(()=>{const r=s.current;if(!r)return;const{firstElementChild:t,lastElementChild:i}=r;S(t===r?.children[o]),p(i===r?.children[o])},[o]);e.useEffect(()=>{if(s.current){j.current=new IntersectionObserver(V,A);const r=j.current,t=Array.from(s.current.children);return t.forEach(i=>r.observe(i)),s.current.addEventListener("scrollend",z),C(),()=>{t.forEach(i=>r.unobserve(i)),s.current?.removeEventListener("scrollend",z)}}},[V,A,C]);const z=e.useCallback(()=>C(),[C]),h=e.useCallback(r=>{const t=s.current;if(!t||!r)return;const i=r.getBoundingClientRect(),x=t.getBoundingClientRect(),k=t.scrollLeft,E=i.left-x.left;t.scrollTo({left:k+E})},[]),M=e.useCallback(r=>{const t=s.current?.children[r];t&&h(t)},[h]),D=e.useCallback(()=>{const t=s.current?.children[o]?.nextElementSibling;t&&h(t)},[o,h]),$=e.useCallback(()=>{const t=s.current?.children[o]?.previousElementSibling;t&&h(t)},[o,h]);return e.useEffect(()=>{const r=()=>{const t=s.current,i=s.current?.children[o];if(!t||!i)return;const x=i.offsetLeft;Math.abs(t.scrollLeft-x)<1||h(i)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[o,h]),n.jsx(T.Provider,{value:{currentSlideId:o,goToNextSlide:D,goToPreviousSlide:$,goToSlideId:M,isAtEnd:b,isAtStart:v},children:n.jsxs("div",{...m,"aria-roledescription":"carousel",className:I("ams-image-slider",c&&"ams-image-slider--controls",a),ref:g,tabIndex:-1,children:[c&&n.jsx(N,{nextLabel:f,previousLabel:l}),n.jsx(q,{"aria-live":"polite",ref:s,role:"group",tabIndex:0,children:u.map(({alt:r,aspectRatio:t,sizes:i,src:x,srcSet:k},E)=>n.jsx(R,{slideId:E,children:n.jsx(Z,{alt:r,aspectRatio:t,sizes:i,src:x,srcSet:k})},E))}),n.jsx(O,{imageLabel:d,thumbnails:u})]})})});P.displayName="ImageSlider";const L=Object.assign(P,{Item:R});try{L.displayName="ImageSlider",L.__docgenInfo={description:"",displayName:"ImageSlider",props:{controls:{defaultValue:null,description:"Display buttons to navigate to the previous or next image.",name:"controls",required:!1,type:{name:"boolean"}},imageLabel:{defaultValue:{value:"Afbeelding"},description:"Label for the image if you need to translate the alt text.",name:"imageLabel",required:!1,type:{name:"string"}},images:{defaultValue:null,description:"The set of images to display.",name:"images",required:!0,type:{name:"ImageProps[]"}},nextLabel:{defaultValue:{value:"Volgende"},description:"The label for the ‘next’ button",name:"nextLabel",required:!1,type:{name:"string"}},previousLabel:{defaultValue:{value:"Vorige"},description:"The label for the ‘previous’ button",name:"previousLabel",required:!1,type:{name:"string"}}}}}catch{}/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const J={title:"Components/Media/Image Slider",component:L,args:{controls:!0,images:[{alt:"Bridge",src:"https://picsum.photos/id/122/1280/720"},{alt:"Bunker",src:"https://picsum.photos/id/101/1280/720"},{alt:"Chairs",src:"https://picsum.photos/id/153/1280/720"},{alt:"Droplet",src:"https://picsum.photos/id/159/1280/720"},{alt:"Dew",src:"https://picsum.photos/id/123/1280/720"}]}},y={},w={args:{images:[{alt:"Bridge",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/122/640/360",srcSet:"https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w"},{alt:"Bunker",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/101/640/360",srcSet:"https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w"},{alt:"Chairs",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/153/640/360",srcSet:"https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w"}]}};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:"{}",...y.parameters?.docs?.source}}};w.parameters={...w.parameters,docs:{...w.parameters?.docs,source:{originalSource:`{
  args: {
    images: [{
      alt: 'Bridge',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/122/640/360',
      srcSet: 'https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w'
    }, {
      alt: 'Bunker',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/101/640/360',
      srcSet: 'https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w'
    }, {
      alt: 'Chairs',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/153/640/360',
      srcSet: 'https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w'
    }]
  }
}`,...w.parameters?.docs?.source}}};const Q=["Default","ResponsiveImages"],ee=Object.freeze(Object.defineProperty({__proto__:null,Default:y,ResponsiveImages:w,__namedExportsOrder:Q,default:J},Symbol.toStringTag,{value:"Module"}));export{ee as I,w as R};
