{/* @license CC0-1.0 */}

import { Canvas, Controls, Markdown, Meta, Primary } from "@storybook/blocks";
import * as DateInputStories from "./DateInput.stories.tsx";
import README from "../../../../packages/css/src/components/date-input/README.md?raw";

<Meta of={DateInputStories} />

<Markdown>{README}</Markdown>

<Primary />

<Controls />

## Asking for memorable or easy to find dates

When asking for a date that is easy to remember or find, like a birthday or passport expiration date,
use a Field Set with separate Text Inputs for day, month, and year.
This approach is easier to use than using a Date Input component.

For more information on this pattern, see the [gov.uk](https://design-system.service.gov.uk/components/date-input/) and [NL Design System](https://nldesignsystem.nl/richtlijnen/formulieren/wanneer-welk-form-element/iedereen-kan-invullen) documentation.

### Memorable date

<Canvas of={DateInputStories.MemorableDate} />

### Memorable date with validation

To show validation errors, add `invalid` and an [Error Message](/docs/components-forms-error-message--docs) to the Field Set.
Make sure to connect the Error Message to the Field Set, otherwise this won’t be read by a screen reader.
Additionally, apply the `invalid` prop to the Text Inputs to visually indicate the error.
Only use the `invalid` prop on Text Inputs that have errors.
For example, only mark the 'year' input as invalid if the year is not provided.

See the [gov.uk](https://design-system.service.gov.uk/components/date-input/#error-messages) documentation on validation for this pattern.

<Canvas of={DateInputStories.MemorableDateWithValidation} />

## Examples of the Date Input

### Date and time

To let the user select a specific time on a date, use the `datetime-local` type.
Note that the control’s UI varies in general from browser to browser.

The value represents a local date and time, not necessarily the user’s local date and time.
In other words, the input allows any valid combination of year, month, day, hour, and minute — even if such a combination is invalid in the user’s local time zone.

<Canvas of={DateInputStories.DateTime} />

### Invalid

Indicates that the input value does not meet the specified constraints.
An [Error Message](/docs/components-forms-error-message--docs) must be displayed above the field.
To highlight the error even more, the parent [Field](/docs/components-forms-field--docs) component’s `invalid` prop must also be set.

<Canvas of={DateInputStories.Invalid} />

### Disabled

A field that can not (yet) be used is indicated with a grey border.
It will not respond to interactions, e.g. with the mouse or keyboard.

Avoid disabling input fields.
They cause usability and accessibility problems.

Disabled fields are often skipped by screen readers.
This makes it hard for the user who rely on assistive technologies to understand the form’s content.
They are not included in form submissions, which can lead to incomplete or missing data.

Alternatives:

1. Use the `readonly` attribute.
   This makes a field uneditable but keeps it accessible and included in form submissions.
2. Display data as plain text or within a non-input element like a `span` or `div`.
3. Use conditional logic to hide or show fields based on user interaction.
   This ensures all necessary fields are accessible and editable when needed.
4. Use a label or text to explain why a field is not editable if you must disable it temporarily.
   This helps the user understand the context.

<Canvas of={DateInputStories.Disabled} />

### In a Field

Use a Field to group a Date Input with a Label, description and / or an Error Message.

If you don’t need the description, remove its Paragraph and the `aria-describedby` from the Date Input.

Check [the Field docs](/docs/components-forms-field--docs) for more information on configuring it.

<Canvas of={DateInputStories.InAField} />

### In a Field with validation

If the Date Input can become invalid, add an Error Message and its `id` to the `aria-describedby` attribute of the Date Input.

Check [the Field docs](/docs/components-forms-field--docs) for more information on configuring it.

<Canvas of={DateInputStories.InAFieldWithValidation} />
