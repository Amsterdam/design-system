{/* @license CC0-1.0 */}

import { Canvas, Controls, Markdown, Meta, Primary } from "@storybook/blocks";
import * as AccordionStories from "./Accordion.stories.tsx";
import README from "../../../../packages/css/src/components/accordion/README.md?raw";

<Meta of={AccordionStories} />

<Markdown>{README}</Markdown>

Each accordion section has its unique name.
Provide this name via the `label` property of the `Accordion.Section` component.

<Primary />

<Controls />

## Examples

### Expanded by default

If you want the contents of an accordion section to appear initially, pass the `expanded` property to the `Accordion.Section` component.

<Canvas of={AccordionStories.ExpandedByDefault} />

### Limit the amount of accessibility landmarks

An Accordion Section renders a `section` element in HTML by default.
Each of them introduces a landmark region, but having many of them on a page can confuse screen reader users.
Consider using general `div` elements instead through `sectionAs="div"`.

<Canvas of={AccordionStories.ReduceLandmarks} />

### Technical considerations

### The `Accordion` parent component

The parent component is used for several reasons:

- It sets the spacing between Accordion Sections.
- It allows you to set the same heading level for all Accordion Sections.
- It allows you to set the same HTML element for all Accordion Sections.
- It adds the extra keyboard navigation described in the guidelines.

### The HTML `details` element

Currently (28-6-2023), the `details` element has some accessibility problems.
[For example, a heading in a summary is not adequately understood by screen readers](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/summary#summaries_as_headings) and
NVDA does not read Chrome and Edge’s collapsed and expanded status correctly.
That’s why we chose not to use this native element.
If these problems are solved, we could do this.
