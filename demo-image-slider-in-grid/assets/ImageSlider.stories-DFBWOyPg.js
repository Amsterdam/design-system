import{j as a}from"./jsx-runtime-BlAj40OV.js";import{c as x}from"./clsx-B-dksMZM.js";import{r as t}from"./index-Cs7sjTYM.js";import{l as te,e as re}from"./index.esm-BBV4ZYo5.js";import{I as P}from"./IconButton-CifdSLJY.js";import{I as se}from"./Image-CVzrCme5.js";import{S as J}from"./Screen-Bi3gjHLv.js";import{G}from"./Grid-CzdMP9ds.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const ie={currentSlideId:0,isAtStart:!0,isAtEnd:!1,goToNextSlide:()=>{},goToPreviousSlide:()=>{},goToSlideId:()=>{}},R=t.createContext(ie),T=t.forwardRef(({className:o,nextLabel:d,previousLabel:c,...u},b)=>{const{isAtStart:l,isAtEnd:p,goToNextSlide:g,goToPreviousSlide:n}=t.useContext(R),_=t.useCallback(()=>n(),[n]),w=t.useCallback(()=>g(),[g]);return a.jsxs("div",{...u,className:x("ams-image-slider__controls",o),ref:b,children:[a.jsx(P,{className:"ams-image-slider__control ams-image-slider__control--previous",disabled:l,inverseColor:!0,label:c,onClick:_,svg:te}),a.jsx(P,{className:"ams-image-slider__control ams-image-slider__control--next",disabled:p,inverseColor:!0,label:d,onClick:w,svg:re})]})});T.displayName="ImageSliderControls";try{T.displayName="ImageSliderControls",T.__docgenInfo={description:"",displayName:"ImageSliderControls",props:{nextLabel:{defaultValue:null,description:"The label for the ‘next’ button",name:"nextLabel",required:!0,type:{name:"string"}},previousLabel:{defaultValue:null,description:"The label for the ‘previous’ button",name:"previousLabel",required:!0,type:{name:"string"}}}}}catch{}const L=t.forwardRef(({children:o,slideId:d,className:c,...u},b)=>{const{currentSlideId:l}=t.useContext(R),p=t.useMemo(()=>l===d,[l,d]),g=t.useMemo(()=>x("ams-image-slider__item",p&&"ams-image-slider__item--in-view",c),[p,c]);return a.jsx("div",{...u,className:g,ref:b,...!p&&{inert:""},children:o})});L.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{slideId:{defaultValue:null,description:"The identifier of the item. Must match the key or order of the slides (starting at 0).",name:"slideId",required:!0,type:{name:"number"}}}}}catch{}const Q=t.forwardRef(({children:o,className:d,...c},u)=>a.jsx("div",{...c,className:x("ams-image-slider__scroller",d),ref:u,children:o}));Q.displayName="ImageSlider.Scroller";try{ImageSlider.Scroller.displayName="ImageSlider.Scroller",ImageSlider.Scroller.__docgenInfo={description:"",displayName:"ImageSlider.Scroller",props:{}}}catch{}const W=t.forwardRef(({className:o,imageLabel:d,thumbnails:c,...u},b)=>{const{currentSlideId:l,goToNextSlide:p,goToPreviousSlide:g,goToSlideId:n}=t.useContext(R),_=t.useCallback(I=>{const m=I.currentTarget.children[l];if(I.key==="ArrowRight"){const h=m==null?void 0:m.nextElementSibling;h&&(h.focus(),p())}if(I.key==="ArrowLeft"){const h=m==null?void 0:m.previousElementSibling;h&&(h.focus(),g())}},[l,p,g]),w=t.useMemo(()=>c.map(({alt:I,aspectRatio:m,src:h},i)=>a.jsx("button",{"aria-label":`${d} ${i+1}: ${I}`,"aria-posinset":i+1,"aria-selected":l===i?"true":"false","aria-setsize":c.length,className:x("ams-image-slider__thumbnail",l===i&&"ams-image-slider__thumbnail--in-view",m&&`ams-aspect-ratio--${m}`),onClick:()=>n(i),role:"tab",style:{backgroundImage:`url(${h})`},tabIndex:l===i?0:-1},i)),[l,n,d,c]);return a.jsx("nav",{...u,className:x("ams-image-slider__thumbnails",o),onKeyDown:_,ref:b,role:"tablist",children:w})});W.displayName="ImageSlider.Thumbnails";try{ImageSlider.Thumbnails.displayName="ImageSlider.Thumbnails",ImageSlider.Thumbnails.__docgenInfo={description:"",displayName:"ImageSlider.Thumbnails",props:{imageLabel:{defaultValue:null,description:"",name:"imageLabel",required:!1,type:{name:"string"}},thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!0,type:{name:"ImageSliderImageProps[]"}}}}}catch{}const X=t.forwardRef(({className:o,controls:d,imageLabel:c="Afbeelding",images:u,nextLabel:b="Volgende",previousLabel:l="Vorige",...p},g)=>{const[n,_]=t.useState(0),[w,I]=t.useState(!0),[m,h]=t.useState(!1),i=t.useRef(null),k=t.useRef(null),V=t.useCallback(e=>{var s;const r=Array.from(((s=i.current)==null?void 0:s.children)||[]);e.forEach(S=>{S.isIntersecting&&_(r.indexOf(S.target))})},[]),A=t.useMemo(()=>({root:i.current,threshold:.6}),[]),N=t.useCallback(()=>{const e=i.current;if(!e)return;const{lastElementChild:r,firstElementChild:s}=e;I(s===(e==null?void 0:e.children[n])),h(r===(e==null?void 0:e.children[n]))},[n]);t.useEffect(()=>{if(i.current){k.current=new IntersectionObserver(V,A);const e=k.current,r=Array.from(i.current.children);return r.forEach(s=>e.observe(s)),i.current.addEventListener("scrollend",z),N(),()=>{var s;r.forEach(S=>e.unobserve(S)),(s=i.current)==null||s.removeEventListener("scrollend",z)}}},[V,A,N]);const z=t.useCallback(()=>N(),[N]),f=t.useCallback(e=>{const r=i.current;!r||!e||r.scrollTo({left:r.scrollLeft+e.offsetLeft-r.scrollLeft})},[]),Y=t.useCallback(e=>{var s;const r=(s=i.current)==null?void 0:s.children[e];r&&f(r)},[f]),Z=t.useCallback(()=>{var s;const e=(s=i.current)==null?void 0:s.children[n],r=e==null?void 0:e.nextElementSibling;r&&f(r)},[n,f]),ee=t.useCallback(()=>{var s;const e=(s=i.current)==null?void 0:s.children[n],r=e==null?void 0:e.previousElementSibling;r&&f(r)},[n,f]);return t.useEffect(()=>{const e=()=>{var E;const r=i.current,s=(E=i.current)==null?void 0:E.children[n];if(!r||!s)return;const S=s.offsetLeft;Math.abs(r.scrollLeft-S)<1||f(s)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[n,f]),a.jsx(R.Provider,{value:{isAtStart:w,isAtEnd:m,currentSlideId:n,goToNextSlide:Z,goToPreviousSlide:ee,goToSlideId:Y},children:a.jsxs("div",{...p,"aria-roledescription":"carousel",className:x("ams-image-slider",d&&"ams-image-slider--controls",o),tabIndex:-1,ref:g,children:[d&&a.jsx(T,{nextLabel:b,previousLabel:l}),a.jsx(Q,{"aria-live":"polite",ref:i,role:"group",tabIndex:0,children:u.map(({alt:e,aspectRatio:r,sizes:s,src:S,srcSet:E},q)=>a.jsx(L,{slideId:q,children:a.jsx(se,{alt:e,className:`ams-aspect-ratio--${r}`,sizes:s,src:S,srcSet:E})},q))}),a.jsx(W,{imageLabel:c,thumbnails:u})]})})});X.displayName="ImageSlider";const j=Object.assign(X,{Item:L});try{j.displayName="ImageSlider",j.__docgenInfo={description:"",displayName:"ImageSlider",props:{controls:{defaultValue:null,description:"Display buttons to navigate to the previous or next image.",name:"controls",required:!1,type:{name:"boolean"}},imageLabel:{defaultValue:{value:"Afbeelding"},description:"Label for the image if you need to translate the alt text.",name:"imageLabel",required:!1,type:{name:"string"}},images:{defaultValue:null,description:"The set of images to display.",name:"images",required:!0,type:{name:"ImageSliderImageProps[]"}},nextLabel:{defaultValue:{value:"Volgende"},description:"The label for the ‘next’ button",name:"nextLabel",required:!1,type:{name:"string"}},previousLabel:{defaultValue:{value:"Vorige"},description:"The label for the ‘previous’ button",name:"previousLabel",required:!1,type:{name:"string"}}}}}catch{}const ae={title:"Components/Media/Image Slider",component:j,args:{controls:!0,images:[{alt:"Bridge",aspectRatio:"x-wide",src:"https://picsum.photos/id/122/1280/720"},{alt:"Bunker",aspectRatio:"x-wide",src:"https://picsum.photos/id/101/1280/720"},{alt:"Chairs",aspectRatio:"x-wide",src:"https://picsum.photos/id/153/1280/720"},{alt:"Droplet",aspectRatio:"x-wide",src:"https://picsum.photos/id/159/1280/720"},{alt:"Dew",aspectRatio:"x-wide",src:"https://picsum.photos/id/123/1280/720"}]},decorators:[o=>a.jsx(J,{children:a.jsx(o,{})})]},v={},y={args:{images:[{alt:"Bridge",aspectRatio:"x-wide",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/122/640/360",srcSet:"https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w"},{alt:"Bunker",aspectRatio:"x-wide",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/101/640/360",srcSet:"https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w"},{alt:"Chairs",aspectRatio:"x-wide",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/153/640/360",srcSet:"https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w"}]}},C={decorators:[o=>a.jsx(J,{children:a.jsx(G,{paddingVertical:"medium",children:a.jsx(G.Cell,{span:{narrow:4,medium:8,wide:10},start:{narrow:1,medium:1,wide:2},children:a.jsx(o,{})})})})]};var M,B,D;v.parameters={...v.parameters,docs:{...(M=v.parameters)==null?void 0:M.docs,source:{originalSource:"{}",...(D=(B=v.parameters)==null?void 0:B.docs)==null?void 0:D.source}}};var O,$,K;y.parameters={...y.parameters,docs:{...(O=y.parameters)==null?void 0:O.docs,source:{originalSource:`{
  args: {
    images: [{
      alt: 'Bridge',
      aspectRatio: 'x-wide',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/122/640/360',
      srcSet: 'https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w'
    }, {
      alt: 'Bunker',
      aspectRatio: 'x-wide',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/101/640/360',
      srcSet: 'https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w'
    }, {
      alt: 'Chairs',
      aspectRatio: 'x-wide',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/153/640/360',
      srcSet: 'https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w'
    }]
  }
}`,...(K=($=y.parameters)==null?void 0:$.docs)==null?void 0:K.source}}};var U,F,H;C.parameters={...C.parameters,docs:{...(U=C.parameters)==null?void 0:U.docs,source:{originalSource:`{
  decorators: [Story => <Screen>
        <Grid paddingVertical="medium">
          <Grid.Cell span={{
        narrow: 4,
        medium: 8,
        wide: 10
      }} start={{
        narrow: 1,
        medium: 1,
        wide: 2
      }}>
            <Story />
          </Grid.Cell>
        </Grid>
      </Screen>]
}`,...(H=(F=C.parameters)==null?void 0:F.docs)==null?void 0:H.source}}};const oe=["Default","ResponsiveImages","UsingGrid"],he=Object.freeze(Object.defineProperty({__proto__:null,Default:v,ResponsiveImages:y,UsingGrid:C,__namedExportsOrder:oe,default:ae},Symbol.toStringTag,{value:"Module"}));export{he as I,y as R};
