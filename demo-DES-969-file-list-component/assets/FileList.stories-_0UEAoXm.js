import{j as t}from"./jsx-runtime-j_jdvEMj.js";import{u as w,v as f}from"./index.esm-Dojcg4AG.js";import{r as p}from"./index-B-o1Wr-g.js";import{c as h}from"./clsx-B-dksMZM.js";import{x as N}from"./index.esm-CEthAr-Q.js";import{I as R}from"./Icon-D1obyjGa.js";import{B as S}from"./Button-CLCAbUHj.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const b=(e,s=3)=>{const r=["bytes","kB","MB","GB"];if(e===0)return"0 bytes";const i=Math.floor(Math.log10(e)/3);return`${(e/Math.pow(1e3,i)).toPrecision(s)} ${r[i]}`};/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const d=e=>{switch(e){case"image/gif":return"gif";case"image/jpeg":return"jpg";case"image/png":return"png";case"text/plain":return"txt";case"application/pdf":return"pdf";case"application/msword":case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"Word";case"application/vnd.ms-excel":case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return"Excel";case"application/vnd.ms-powerpoint":case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return"PowerPoint";default:return"Document"}};try{d.displayName="formatFileType",d.__docgenInfo={description:"",displayName:"formatFileType",props:{}}}catch{}const j=p.forwardRef(({file:e,onRemove:s,className:r,...i},c)=>t.jsxs("li",{...i,ref:c,className:h("ams-file-list__file",r),children:[t.jsx("div",{className:"ams-file-list__file-preview",children:e.type.includes("image")?t.jsx("img",{src:URL.createObjectURL(e),alt:e.name}):t.jsx(R,{svg:N,size:"level-3",square:!0})}),t.jsxs("div",{className:"ams-file-list__file-info",children:[e.name,t.jsxs("div",{className:"ams-file-input__file-details",children:["(",d(e.type),", ",b(e.size),")"]})]}),s&&t.jsx("div",{children:t.jsx(S,{variant:"tertiary",onClick:()=>s(),children:"Verwijder"})})]}));j.displayName="FileList.Item";try{FileList.Item.displayName="FileList.Item",FileList.Item.__docgenInfo={description:"",displayName:"FileList.Item",props:{file:{defaultValue:null,description:"",name:"file",required:!0,type:{name:"File"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"(() => void)"}}}}}catch{}const v=p.forwardRef(({children:e,className:s,...r},i)=>t.jsx("ul",{...r,ref:i,className:h("ams-file-list",s),children:e}));v.displayName="FileList";const l=Object.assign(v,{Item:j});try{l.displayName="FileList",l.__docgenInfo={description:"",displayName:"FileList",props:{}}}catch{}const D=()=>{const e=p.useRef(null),[s,r]=p.useState(null),i=()=>{e.current&&r(e.current.files)},c=m=>{if(s){const a=new DataTransfer;Array.from(s).forEach((I,L)=>{L!==m&&a.items.add(I)}),e.current&&(e.current.files=a.files),r(a.files)}};return t.jsxs(t.Fragment,{children:[t.jsx(w,{multiple:!0,ref:e,onChange:i}),s&&t.jsx(f,{children:Array.from(s).map((m,a)=>t.jsx(f.Item,{file:m,onRemove:()=>c(a)},a))})]})},M={title:"Components/Forms/File List",component:l,args:{children:[t.jsx(l.Item,{file:new File(["sample1"],"sample1.txt",{type:"text/plain",lastModified:Date.now()})},"1"),t.jsx(l.Item,{file:new File(["sample2"],"sample2.txt",{type:"text/plain",lastModified:Date.now()})},"2")]}},n={},o={parameters:{docs:{canvas:{sourceState:"none"}}},render:()=>t.jsx(D,{})};var u,_,x;n.parameters={...n.parameters,docs:{...(u=n.parameters)==null?void 0:u.docs,source:{originalSource:"{}",...(x=(_=n.parameters)==null?void 0:_.docs)==null?void 0:x.source}}};var F,g,y;o.parameters={...o.parameters,docs:{...(F=o.parameters)==null?void 0:F.docs,source:{originalSource:`{
  parameters: {
    docs: {
      canvas: {
        sourceState: 'none'
      }
    }
  },
  render: () => <FileInputWithFileList />
}`,...(y=(g=o.parameters)==null?void 0:g.docs)==null?void 0:y.source}}};const T=["Default","WithInput"],q=Object.freeze(Object.defineProperty({__proto__:null,Default:n,WithInput:o,__namedExportsOrder:T,default:M},Symbol.toStringTag,{value:"Module"}));export{q as F,o as W};
