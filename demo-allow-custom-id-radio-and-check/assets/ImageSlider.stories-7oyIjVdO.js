import{j as n}from"./jsx-runtime-Cf8x2fCZ.js";import{c as I}from"./clsx-B-dksMZM.js";import{r as e}from"./index-G8LIXM5I.js";import{H as K,f as F}from"./index.esm-D3RaMjqb.js";import{B as z}from"./Button-BZ209Iw2.js";import{g as H}from"./generateAspectRatioClass-CefTNpDa.js";import{I as G}from"./Image-Ci7950RD.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const J={currentSlideId:0,goToNextSlide:()=>{},goToPreviousSlide:()=>{},goToSlideId:()=>{},isAtEnd:!1,isAtStart:!0},E=e.createContext(J),C=e.forwardRef(({className:o,nextLabel:c,previousLabel:d,...u},f)=>{const{goToNextSlide:a,goToPreviousSlide:m,isAtEnd:g,isAtStart:i}=e.useContext(E),_=e.useCallback(()=>m(),[m]),v=e.useCallback(()=>a(),[a]);return n.jsxs("div",{...u,className:I("ams-image-slider__controls",o),ref:f,children:[n.jsx(z,{className:"ams-image-slider__control ams-image-slider__control--previous",color:"inverse",disabled:i,icon:K,iconOnly:!0,onClick:_,children:d}),n.jsx(z,{className:"ams-image-slider__control ams-image-slider__control--next",color:"inverse",disabled:g,icon:F,iconOnly:!0,onClick:v,children:c})]})});C.displayName="ImageSliderControls";try{C.displayName="ImageSliderControls",C.__docgenInfo={description:"",displayName:"ImageSliderControls",props:{nextLabel:{defaultValue:null,description:"The label for the ‘next’ button",name:"nextLabel",required:!0,type:{name:"string"}},previousLabel:{defaultValue:null,description:"The label for the ‘previous’ button",name:"previousLabel",required:!0,type:{name:"string"}}}}}catch{}const k=e.forwardRef(({children:o,className:c,slideId:d,...u},f)=>{const{currentSlideId:a}=e.useContext(E),m=e.useMemo(()=>a===d,[a,d]),g=e.useMemo(()=>I("ams-image-slider__item",m&&"ams-image-slider__item--in-view",c),[m,c]);return n.jsx("div",{...u,className:g,ref:f,...!m&&{inert:""},children:o})});k.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{slideId:{defaultValue:null,description:"The identifier of the item. Must match the key or order of the slides (starting at 0).",name:"slideId",required:!0,type:{name:"number"}}}}}catch{}const q=e.forwardRef(({children:o,className:c,...d},u)=>n.jsx("div",{...d,className:I("ams-image-slider__scroller",c),ref:u,children:o}));q.displayName="ImageSlider.Scroller";try{ImageSlider.Scroller.displayName="ImageSlider.Scroller",ImageSlider.Scroller.__docgenInfo={description:"",displayName:"ImageSlider.Scroller",props:{}}}catch{}const B=e.forwardRef(({className:o,imageLabel:c,thumbnails:d,...u},f)=>{const{currentSlideId:a,goToNextSlide:m,goToPreviousSlide:g,goToSlideId:i}=e.useContext(E),_=e.useCallback(S=>{const b=S.currentTarget.children[a];if(S.key==="ArrowRight"){const p=b?.nextElementSibling;p&&(p.focus(),m())}if(S.key==="ArrowLeft"){const p=b?.previousElementSibling;p&&(p.focus(),g())}},[a,m,g]),v=e.useMemo(()=>d.map(({alt:S,aspectRatio:b,src:p},r)=>n.jsx("button",{"aria-label":`${c} ${r+1}: ${S}`,"aria-posinset":r+1,"aria-selected":a===r?"true":"false","aria-setsize":d.length,className:I("ams-image-slider__thumbnail",a===r&&"ams-image-slider__thumbnail--in-view",H(b)),onClick:()=>i(r),role:"tab",style:{backgroundImage:`url(${p})`},tabIndex:a===r?0:-1,type:"button"},r)),[a,i,c,d]);return n.jsx("nav",{...u,className:I("ams-image-slider__thumbnails",o),onKeyDown:_,ref:f,role:"tablist",children:v})});B.displayName="ImageSlider.Thumbnails";try{ImageSlider.Thumbnails.displayName="ImageSlider.Thumbnails",ImageSlider.Thumbnails.__docgenInfo={description:"",displayName:"ImageSlider.Thumbnails",props:{imageLabel:{defaultValue:null,description:"",name:"imageLabel",required:!1,type:{name:"string"}},thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!0,type:{name:"ImageProps[]"}}}}}catch{}const O=e.forwardRef(({className:o,controls:c,imageLabel:d="Afbeelding",images:u,nextLabel:f="Volgende",previousLabel:a="Vorige",...m},g)=>{const[i,_]=e.useState(0),[v,S]=e.useState(!0),[b,p]=e.useState(!1),r=e.useRef(null),L=e.useRef(null),j=e.useCallback(s=>{const t=Array.from(r.current?.children||[]);s.forEach(l=>{l.isIntersecting&&_(t.indexOf(l.target))})},[]),R=e.useMemo(()=>({root:r.current,threshold:.6}),[]),w=e.useCallback(()=>{const s=r.current;if(!s)return;const{firstElementChild:t,lastElementChild:l}=s;S(t===s?.children[i]),p(l===s?.children[i])},[i]);e.useEffect(()=>{if(r.current){L.current=new IntersectionObserver(j,R);const s=L.current,t=Array.from(r.current.children);return t.forEach(l=>s.observe(l)),r.current.addEventListener("scrollend",V),w(),()=>{t.forEach(l=>s.unobserve(l)),r.current?.removeEventListener("scrollend",V)}}},[j,R,w]);const V=e.useCallback(()=>w(),[w]),h=e.useCallback(s=>{const t=r.current;!t||!s||t.scrollTo({left:t.scrollLeft+s.offsetLeft-t.scrollLeft})},[]),P=e.useCallback(s=>{const t=r.current?.children[s];t&&h(t)},[h]),M=e.useCallback(()=>{const t=r.current?.children[i]?.nextElementSibling;t&&h(t)},[i,h]),D=e.useCallback(()=>{const t=r.current?.children[i]?.previousElementSibling;t&&h(t)},[i,h]);return e.useEffect(()=>{const s=()=>{const t=r.current,l=r.current?.children[i];if(!t||!l)return;const N=l.offsetLeft;Math.abs(t.scrollLeft-N)<1||h(l)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[i,h]),n.jsx(E.Provider,{value:{currentSlideId:i,goToNextSlide:M,goToPreviousSlide:D,goToSlideId:P,isAtEnd:b,isAtStart:v},children:n.jsxs("div",{...m,"aria-roledescription":"carousel",className:I("ams-image-slider",c&&"ams-image-slider--controls",o),ref:g,tabIndex:-1,children:[c&&n.jsx(C,{nextLabel:f,previousLabel:a}),n.jsx(q,{"aria-live":"polite",ref:r,role:"group",tabIndex:0,children:u.map(({alt:s,aspectRatio:t,sizes:l,src:N,srcSet:$},A)=>n.jsx(k,{slideId:A,children:n.jsx(G,{alt:s,aspectRatio:t,sizes:l,src:N,srcSet:$})},A))}),n.jsx(B,{imageLabel:d,thumbnails:u})]})})});O.displayName="ImageSlider";const T=Object.assign(O,{Item:k});try{T.displayName="ImageSlider",T.__docgenInfo={description:"",displayName:"ImageSlider",props:{controls:{defaultValue:null,description:"Display buttons to navigate to the previous or next image.",name:"controls",required:!1,type:{name:"boolean"}},imageLabel:{defaultValue:{value:"Afbeelding"},description:"Label for the image if you need to translate the alt text.",name:"imageLabel",required:!1,type:{name:"string"}},images:{defaultValue:null,description:"The set of images to display.",name:"images",required:!0,type:{name:"ImageProps[]"}},nextLabel:{defaultValue:{value:"Volgende"},description:"The label for the ‘next’ button",name:"nextLabel",required:!1,type:{name:"string"}},previousLabel:{defaultValue:{value:"Vorige"},description:"The label for the ‘previous’ button",name:"previousLabel",required:!1,type:{name:"string"}}}}}catch{}/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const Q={title:"Components/Media/Image Slider",component:T,args:{controls:!0,images:[{alt:"Bridge",src:"https://picsum.photos/id/122/1280/720"},{alt:"Bunker",src:"https://picsum.photos/id/101/1280/720"},{alt:"Chairs",src:"https://picsum.photos/id/153/1280/720"},{alt:"Droplet",src:"https://picsum.photos/id/159/1280/720"},{alt:"Dew",src:"https://picsum.photos/id/123/1280/720"}]}},x={},y={args:{images:[{alt:"Bridge",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/122/640/360",srcSet:"https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w"},{alt:"Bunker",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/101/640/360",srcSet:"https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w"},{alt:"Chairs",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/153/640/360",srcSet:"https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w"}]}};x.parameters={...x.parameters,docs:{...x.parameters?.docs,source:{originalSource:"{}",...x.parameters?.docs?.source}}};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:`{
  args: {
    images: [{
      alt: 'Bridge',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/122/640/360',
      srcSet: 'https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w'
    }, {
      alt: 'Bunker',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/101/640/360',
      srcSet: 'https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w'
    }, {
      alt: 'Chairs',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/153/640/360',
      srcSet: 'https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w'
    }]
  }
}`,...y.parameters?.docs?.source}}};const U=["Default","ResponsiveImages"],se=Object.freeze(Object.defineProperty({__proto__:null,Default:x,ResponsiveImages:y,__namedExportsOrder:U,default:Q},Symbol.toStringTag,{value:"Module"}));export{se as I,y as R};
