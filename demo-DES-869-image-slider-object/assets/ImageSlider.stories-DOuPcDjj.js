import{j as o}from"./jsx-runtime-BlAj40OV.js";import{l as ne,e as ce}from"./index.esm-Bsc2owIZ.js";import{c as x}from"./clsx-B-dksMZM.js";import{r as i}from"./index-Cs7sjTYM.js";import{I as de}from"./Image-CVzrCme5.js";import{I as k}from"./IconButton-BgcGyAbu.js";import{S as me}from"./Screen-Bi3gjHLv.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const ue={currentSlide:0,goToSlideId:()=>{}},C=i.createContext(ue),V=i.forwardRef(({children:a,slideId:d,className:n,...m},g)=>{const{currentSlide:h}=i.useContext(C),f=h===d;return o.jsx("div",{...m,ref:g,className:x("ams-image-slider__item",f&&"ams-image-slider__item--in-view",n),...!f&&{inert:""},children:a})});V.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{slideId:{defaultValue:null,description:"this ID needs to match the key or order of the slides (starting with 0)",name:"slideId",required:!0,type:{name:"number"}}}}}catch{}const Q=i.forwardRef(({children:a,className:d,...n},m)=>o.jsx("div",{...n,ref:m,className:x("ams-image-slider__scroller",d),children:a}));Q.displayName="ImageSlider.Scroller";try{ImageSlider.Scroller.displayName="ImageSlider.Scroller",ImageSlider.Scroller.__docgenInfo={description:"",displayName:"ImageSlider.Scroller",props:{}}}catch{}const U=i.forwardRef(({thumbnails:a,imageLabel:d,currentSlide:n,className:m,...g},h)=>{const{goToSlideId:f}=i.useContext(C);return o.jsx("nav",{...g,ref:h,className:x("ams-image-slider__thumbnails",m),role:"tablist",children:a&&a.map((b,c)=>o.jsx("button",{className:x("ams-image-slider__thumbnail",b.ratio&&`ams-aspect-ratio--${b.ratio}`,n===c&&"ams-image-slider__thumbnail--in-view"),onClick:()=>f(c),style:{backgroundImage:`url(${b.src})`},"aria-label":`${d} ${c+1}: ${b.alt}`,"aria-selected":n===c?"true":"false","aria-setsize":a.length,"aria-posinset":c+1,tabIndex:n===c?0:-1,role:"tab"},c))})});U.displayName="ImageSlider.Thumbnails";try{ImageSlider.Thumbnails.displayName="ImageSlider.Thumbnails",ImageSlider.Thumbnails.__docgenInfo={description:"",displayName:"ImageSlider.Thumbnails",props:{thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!0,type:{name:"SlideProps[]"}},imageLabel:{defaultValue:null,description:"",name:"imageLabel",required:!1,type:{name:"string"}},currentSlide:{defaultValue:null,description:"",name:"currentSlide",required:!1,type:{name:"number"}}}}}catch{}const W=i.forwardRef(({className:a,slides:d,controls:n,scrollbar:m,thumbnails:g,previousLabel:h="Vorige",nextLabel:f="Volgende",imageLabel:b="Afbeelding",...c},X)=>{const[u,Y]=i.useState(0),[Z,ee]=i.useState(!0),[re,se]=i.useState(!1),t=i.useRef(null),te=new Set,ae=e=>{var p;const s=((p=t.current)==null?void 0:p.children)||[],r=Array.from(s);for(let l of e)te.add(l),l.isIntersecting&&Y(r.indexOf(l.target))},E={root:t.current,threshold:.6};i.useEffect(()=>{const e=new IntersectionObserver(ae,E),s=r=>{switch(r.key){case"ArrowLeft":j();break;case"ArrowRight":N();break}};if(t.current){const r=t.current.children,p=Array.from(r);for(let l of p)e.observe(l);t.current.addEventListener("scrollend",T),t.current.addEventListener("keydown",s)}return()=>{t.current&&(t.current.removeEventListener("scrollend",T),t.current.removeEventListener("keydown",s))}},[t,E]);const T=()=>{ie()},oe=e=>{var p;const r=(p=e.target.parentElement)==null?void 0:p.children[u];if(e.key==="ArrowRight"){const l=r==null?void 0:r.nextElementSibling;if(l===r)return;l&&(l.focus(),N())}if(e.key==="ArrowLeft"){const l=r==null?void 0:r.previousElementSibling;if(l===r)return;l&&(l.focus(),j())}},w=e=>{const s=t.current;if(!s||!e)return;const r=Math.abs(s.offsetLeft-e.offsetLeft);s.scrollTo(r,0)},le=e=>{var r;const s=(r=t.current)==null?void 0:r.children[e];w(s)},N=()=>{var r;const e=(r=t.current)==null?void 0:r.children[u],s=e==null?void 0:e.nextElementSibling;e!==s&&s&&w(s)},j=()=>{var r;const e=(r=t.current)==null?void 0:r.children[u],s=e==null?void 0:e.previousElementSibling;e!==s&&s&&w(s)},ie=()=>{const e=t.current,{lastElementChild:s,firstElementChild:r}=e;ee(r===(e==null?void 0:e.children[u])),se(s===(e==null?void 0:e.children[u]))};return o.jsx(C.Provider,{value:{currentSlide:u,goToSlideId:le},children:o.jsxs("div",{...c,ref:X,"aria-roledescription":"carousel",tabIndex:-1,className:x("ams-image-slider",n&&"ams-image-slider--controls",m&&"ams-image-slider--scrollbar",g&&"ams-image-slider--thumbnails",a),children:[n&&o.jsxs("div",{className:"ams-image-slider__controls",children:[o.jsx(k,{svg:ne,label:h,inverseColor:!0,className:"ams-image-slider__control ams-image-slider__control--previous",onClick:()=>j(),disabled:Z}),o.jsx(k,{svg:ce,label:f,inverseColor:!0,className:"ams-image-slider__control ams-image-slider__control--next",onClick:()=>N(),disabled:re})]}),o.jsx(Q,{tabIndex:0,ref:t,"aria-live":"polite",role:"group",children:d.map((e,s)=>{var r;return o.jsx(V,{slideId:s,children:o.jsx(de,{src:e.src,srcSet:(r=e.srcSet)==null?void 0:r.join(", "),sizes:e.sizes,alt:e.alt})},s)})}),g&&o.jsx(U,{thumbnails:d,imageLabel:b,currentSlide:u,onKeyDown:oe})]})})});W.displayName="ImageSlider";const L=Object.assign(W,{Item:V});try{L.displayName="ImageSlider",L.__docgenInfo={description:"",displayName:"ImageSlider",props:{slides:{defaultValue:null,description:"",name:"slides",required:!0,type:{name:"SlideProps[]"}},controls:{defaultValue:null,description:"Show navigation controls",name:"controls",required:!1,type:{name:"boolean"}},scrollbar:{defaultValue:null,description:"Show native scrollbar inside gallery",name:"scrollbar",required:!1,type:{name:"boolean"}},thumbnails:{defaultValue:null,description:"Show thumbnails",name:"thumbnails",required:!1,type:{name:"boolean"}},previousLabel:{defaultValue:{value:"Vorige"},description:"Label for the previous button",name:"previousLabel",required:!1,type:{name:"string"}},nextLabel:{defaultValue:{value:"Volgende"},description:"Label for the next button",name:"nextLabel",required:!1,type:{name:"string"}},imageLabel:{defaultValue:{value:"Afbeelding"},description:"Label for the image if you need to translate the alt text",name:"imageLabel",required:!1,type:{name:"string"}}}}}catch{}const pe={title:"Components/Media/Image Slider",component:L,args:{slides:[{src:"https://picsum.photos/id/122/1280/720",alt:"Bridge",ratio:"x-wide"},{src:"https://picsum.photos/id/101/1280/720",alt:"Bunker",ratio:"x-wide"},{src:"https://picsum.photos/id/153/1280/720",alt:"Chairs",ratio:"x-wide"},{src:"https://picsum.photos/id/159/1280/720",alt:"Droplet",ratio:"x-wide"},{src:"https://picsum.photos/id/123/1280/720",alt:"Dew",ratio:"x-wide"}],controls:!0,scrollbar:!1,thumbnails:!0},decorators:[a=>o.jsx(me,{children:o.jsx(a,{})})]},S={},_={args:{controls:!1}},I={args:{thumbnails:!1}},y={args:{thumbnails:!1,controls:!1}},v={args:{scrollbar:!0,controls:!1,thumbnails:!1}};var A,q,R;S.parameters={...S.parameters,docs:{...(A=S.parameters)==null?void 0:A.docs,source:{originalSource:"{}",...(R=(q=S.parameters)==null?void 0:q.docs)==null?void 0:R.source}}};var D,O,$;_.parameters={..._.parameters,docs:{...(D=_.parameters)==null?void 0:D.docs,source:{originalSource:`{
  args: {
    controls: false
  }
}`,...($=(O=_.parameters)==null?void 0:O.docs)==null?void 0:$.source}}};var P,z,B;I.parameters={...I.parameters,docs:{...(P=I.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    thumbnails: false
  }
}`,...(B=(z=I.parameters)==null?void 0:z.docs)==null?void 0:B.source}}};var K,M,F;y.parameters={...y.parameters,docs:{...(K=y.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: {
    thumbnails: false,
    controls: false
  }
}`,...(F=(M=y.parameters)==null?void 0:M.docs)==null?void 0:F.source}}};var G,H,J;v.parameters={...v.parameters,docs:{...(G=v.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: {
    scrollbar: true,
    controls: false,
    thumbnails: false
  }
}`,...(J=(H=v.parameters)==null?void 0:H.docs)==null?void 0:J.source}}};const ge=["Default","NoControls","NoThumbnails","NoSnapstop","NativeScrollbar"],ve=Object.freeze(Object.defineProperty({__proto__:null,Default:S,NativeScrollbar:v,NoControls:_,NoSnapstop:y,NoThumbnails:I,__namedExportsOrder:ge,default:pe},Symbol.toStringTag,{value:"Module"}));export{ve as I,_ as N,I as a,y as b,v as c};
