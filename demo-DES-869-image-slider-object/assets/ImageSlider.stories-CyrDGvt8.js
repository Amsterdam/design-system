import{j as o}from"./jsx-runtime-BlAj40OV.js";import{c as S}from"./clsx-B-dksMZM.js";import{r as i}from"./index-Cs7sjTYM.js";import{l as X,e as Y}from"./index.esm-BBV4ZYo5.js";import{I as A}from"./IconButton-CifdSLJY.js";import{I as Z}from"./Image-CVzrCme5.js";import{S as ee}from"./Screen-Bi3gjHLv.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const te={atStart:!0,atEnd:!1,currentSlideId:0,goToNextSlide:()=>{},goToPreviousSlide:()=>{},goToSlideId:()=>{}},N=i.createContext(te),v=i.forwardRef(({previousLabel:a,nextLabel:l,className:p,...u},f)=>{const{atStart:n,atEnd:h,goToPreviousSlide:I,goToNextSlide:g}=i.useContext(N);return o.jsxs("div",{...u,ref:f,className:S("ams-image-slider__controls",p),children:[o.jsx(A,{svg:X,label:a,inverseColor:!0,className:"ams-image-slider__control ams-image-slider__control--previous",onClick:()=>I(),disabled:n}),o.jsx(A,{svg:Y,label:l,inverseColor:!0,className:"ams-image-slider__control ams-image-slider__control--next",onClick:()=>g(),disabled:h})]})});v.displayName="ImageSliderControls";try{v.displayName="ImageSliderControls",v.__docgenInfo={description:"",displayName:"ImageSliderControls",props:{previousLabel:{defaultValue:null,description:"",name:"previousLabel",required:!0,type:{name:"string"}},nextLabel:{defaultValue:null,description:"",name:"nextLabel",required:!0,type:{name:"string"}}}}}catch{}const T=i.forwardRef(({children:a,slideId:l,className:p,...u},f)=>{const{currentSlideId:n}=i.useContext(N),h=n===l;return o.jsx("div",{...u,ref:f,className:S("ams-image-slider__item",h&&"ams-image-slider__item--in-view",p),...!h&&{inert:""},children:a})});T.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{slideId:{defaultValue:null,description:"this ID needs to match the key or order of the slides (starting with 0)",name:"slideId",required:!0,type:{name:"number"}}}}}catch{}const F=i.forwardRef(({children:a,className:l,...p},u)=>o.jsx("div",{...p,ref:u,className:S("ams-image-slider__scroller",l),children:a}));F.displayName="ImageSlider.Scroller";try{ImageSlider.Scroller.displayName="ImageSlider.Scroller",ImageSlider.Scroller.__docgenInfo={description:"",displayName:"ImageSlider.Scroller",props:{}}}catch{}const G=i.forwardRef(({thumbnails:a,imageLabel:l,className:p,...u},f)=>{const{currentSlideId:n,goToNextSlide:h,goToPreviousSlide:I,goToSlideId:g}=i.useContext(N),C=d=>{var y;const m=(y=d.target.parentElement)==null?void 0:y.children[n];if(d.key==="ArrowRight"){const t=m==null?void 0:m.nextElementSibling;if(t===m)return;t&&(t.focus(),h())}if(d.key==="ArrowLeft"){const t=m==null?void 0:m.previousElementSibling;if(t===m)return;t&&(t.focus(),I())}};return o.jsx("nav",{...u,ref:f,className:S("ams-image-slider__thumbnails",p),role:"tablist",onKeyDown:C,children:a&&a.map((d,c)=>o.jsx("button",{className:S("ams-image-slider__thumbnail",d.ratio&&`ams-aspect-ratio--${d.ratio}`,n===c&&"ams-image-slider__thumbnail--in-view"),onClick:()=>g(c),style:{backgroundImage:`url(${d.src})`},"aria-label":`${l} ${c+1}: ${d.alt}`,"aria-selected":n===c?"true":"false","aria-setsize":a.length,"aria-posinset":c+1,tabIndex:n===c?0:-1,role:"tab"},c))})});G.displayName="ImageSlider.Thumbnails";try{ImageSlider.Thumbnails.displayName="ImageSlider.Thumbnails",ImageSlider.Thumbnails.__docgenInfo={description:"",displayName:"ImageSlider.Thumbnails",props:{thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!0,type:{name:"ImageSliderImageProps[]"}},imageLabel:{defaultValue:null,description:"",name:"imageLabel",required:!1,type:{name:"string"}}}}}catch{}const H=i.forwardRef(({className:a,controls:l,imageLabel:p="Afbeelding",nextLabel:u="Volgende",previousLabel:f="Vorige",images:n,...h},I)=>{const[g,C]=i.useState(0),[d,c]=i.useState(!0),[m,y]=i.useState(!1),t=i.useRef(null),J=new Set,Q=e=>{var s;const r=Array.from(((s=t.current)==null?void 0:s.children)||[]);for(let _ of e)J.add(_),_.isIntersecting&&C(r.indexOf(_.target))},E={root:t.current,threshold:.6};i.useEffect(()=>{const e=new IntersectionObserver(Q,E),r=s=>{switch(s.key){case"ArrowLeft":R();break;case"ArrowRight":k();break}};if(t.current){const s=Array.from(t.current.children);for(let _ of s)e.observe(_);t.current.addEventListener("scrollend",V),t.current.addEventListener("keydown",r)}return()=>{t.current&&(t.current.removeEventListener("scrollend",V),t.current.removeEventListener("keydown",r))}},[t,E]);const V=()=>{W()},L=e=>{const r=t.current;if(!r||!e)return;const s=Math.abs(r.offsetLeft-e.offsetLeft);r.scrollTo(s,0)},U=e=>{var s;const r=(s=t.current)==null?void 0:s.children[e];L(r)},k=()=>{var s;const e=(s=t.current)==null?void 0:s.children[g],r=e==null?void 0:e.nextElementSibling;e!==r&&r&&L(r)},R=()=>{var s;const e=(s=t.current)==null?void 0:s.children[g],r=e==null?void 0:e.previousElementSibling;e!==r&&r&&L(r)},W=()=>{const e=t.current,{lastElementChild:r,firstElementChild:s}=e;c(s===(e==null?void 0:e.children[g])),y(r===(e==null?void 0:e.children[g]))};return o.jsx(N.Provider,{value:{atStart:d,atEnd:m,currentSlideId:g,goToNextSlide:k,goToPreviousSlide:R,goToSlideId:U},children:o.jsxs("div",{...h,ref:I,"aria-roledescription":"carousel",tabIndex:-1,className:S("ams-image-slider",l&&"ams-image-slider--controls",a),children:[l&&o.jsx(v,{previousLabel:f,nextLabel:u}),o.jsx(F,{tabIndex:0,ref:t,"aria-live":"polite",role:"group",children:n.map((e,r)=>o.jsx(T,{slideId:r,children:o.jsx(Z,{src:e.src,srcSet:e.srcSet,sizes:e.sizes,alt:e.alt,className:`ams-aspect-ratio--${e.ratio}`})},r))}),o.jsx(G,{thumbnails:n,imageLabel:p})]})})});H.displayName="ImageSlider";const j=Object.assign(H,{Item:T});try{j.displayName="ImageSlider",j.__docgenInfo={description:"",displayName:"ImageSlider",props:{controls:{defaultValue:null,description:"Show navigation controls",name:"controls",required:!1,type:{name:"boolean"}},imageLabel:{defaultValue:{value:"Afbeelding"},description:"Label for the image if you need to translate the alt text",name:"imageLabel",required:!1,type:{name:"string"}},nextLabel:{defaultValue:{value:"Volgende"},description:"Label for the next button",name:"nextLabel",required:!1,type:{name:"string"}},previousLabel:{defaultValue:{value:"Vorige"},description:"Label for the previous button",name:"previousLabel",required:!1,type:{name:"string"}},images:{defaultValue:null,description:"An array of images to display",name:"images",required:!0,type:{name:"ImageSliderImageProps[]"}}}}}catch{}const re={title:"Components/Media/Image Slider",component:j,args:{images:[{src:"https://picsum.photos/id/122/1280/720",alt:"Bridge",ratio:"x-wide"},{src:"https://picsum.photos/id/101/1280/720",alt:"Bunker",ratio:"x-wide"},{src:"https://picsum.photos/id/153/1280/720",alt:"Chairs",ratio:"x-wide"},{src:"https://picsum.photos/id/159/1280/720",alt:"Droplet",ratio:"x-wide"},{src:"https://picsum.photos/id/123/1280/720",alt:"Dew",ratio:"x-wide"}],controls:!0},decorators:[a=>o.jsx(ee,{children:o.jsx(a,{})})]},x={},w={args:{controls:!1}},b={args:{images:[{src:"https://picsum.photos/id/122/640/360",srcSet:"https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w",sizes:"(max-width: 36rem) 640px, 50vw",alt:"Bridge",ratio:"x-wide"},{src:"https://picsum.photos/id/101/640/360",srcSet:"https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w",sizes:"(max-width: 36rem) 640px, 50vw",alt:"Bunker",ratio:"x-wide"},{src:"https://picsum.photos/id/153/640/360",srcSet:"https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w",sizes:"(max-width: 36rem) 640px, 50vw",alt:"Chairs",ratio:"x-wide"}]}};var q,z,D;x.parameters={...x.parameters,docs:{...(q=x.parameters)==null?void 0:q.docs,source:{originalSource:"{}",...(D=(z=x.parameters)==null?void 0:z.docs)==null?void 0:D.source}}};var P,B,O;w.parameters={...w.parameters,docs:{...(P=w.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    controls: false
  }
}`,...(O=(B=w.parameters)==null?void 0:B.docs)==null?void 0:O.source}}};var $,K,M;b.parameters={...b.parameters,docs:{...($=b.parameters)==null?void 0:$.docs,source:{originalSource:`{
  args: {
    images: [{
      src: 'https://picsum.photos/id/122/640/360',
      srcSet: 'https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w',
      sizes: '(max-width: 36rem) 640px, 50vw',
      alt: 'Bridge',
      ratio: 'x-wide'
    }, {
      src: 'https://picsum.photos/id/101/640/360',
      srcSet: 'https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w',
      sizes: '(max-width: 36rem) 640px, 50vw',
      alt: 'Bunker',
      ratio: 'x-wide'
    }, {
      src: 'https://picsum.photos/id/153/640/360',
      srcSet: 'https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w',
      sizes: '(max-width: 36rem) 640px, 50vw',
      alt: 'Chairs',
      ratio: 'x-wide'
    }]
  }
}`,...(M=(K=b.parameters)==null?void 0:K.docs)==null?void 0:M.source}}};const se=["Default","NoControls","SourceSetImages"],me=Object.freeze(Object.defineProperty({__proto__:null,Default:x,NoControls:w,SourceSetImages:b,__namedExportsOrder:se,default:re},Symbol.toStringTag,{value:"Module"}));export{me as I,w as N,b as S};
