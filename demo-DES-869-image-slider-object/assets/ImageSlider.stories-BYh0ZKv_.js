import{j as i}from"./jsx-runtime-BlAj40OV.js";import{c as b}from"./clsx-B-dksMZM.js";import{r as o}from"./index-Cs7sjTYM.js";import{l as X,e as Y}from"./index.esm-BBV4ZYo5.js";import{I as R}from"./IconButton-CifdSLJY.js";import{I as Z}from"./Image-CVzrCme5.js";import{S as ee}from"./Screen-Bi3gjHLv.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const te={atStart:!0,atEnd:!1,currentSlide:0,goToNextSlide:()=>{},goToPreviousSlide:()=>{},goToSlideId:()=>{}},v=o.createContext(te),M=o.forwardRef(({previousLabel:a="Vorige",nextLabel:l="Volgende",...p},u)=>{const{atStart:h,atEnd:n,goToPreviousSlide:g,goToNextSlide:S}=o.useContext(v);return i.jsxs("div",{...p,ref:u,className:"ams-image-slider__controls",children:[i.jsx(R,{svg:X,label:a,inverseColor:!0,className:"ams-image-slider__control ams-image-slider__control--previous",onClick:()=>g(),disabled:h}),i.jsx(R,{svg:Y,label:l,inverseColor:!0,className:"ams-image-slider__control ams-image-slider__control--next",onClick:()=>S(),disabled:n})]})});M.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{previousLabel:{defaultValue:{value:"Vorige"},description:"",name:"previousLabel",required:!1,type:{name:"string"}},nextLabel:{defaultValue:{value:"Volgende"},description:"",name:"nextLabel",required:!1,type:{name:"string"}}}}}catch{}const j=o.forwardRef(({children:a,slideId:l,className:p,...u},h)=>{const{currentSlide:n}=o.useContext(v),g=n===l;return i.jsx("div",{...u,ref:h,className:b("ams-image-slider__item",g&&"ams-image-slider__item--in-view",p),...!g&&{inert:""},children:a})});j.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{slideId:{defaultValue:null,description:"this ID needs to match the key or order of the slides (starting with 0)",name:"slideId",required:!0,type:{name:"number"}}}}}catch{}const F=o.forwardRef(({children:a,className:l,...p},u)=>i.jsx("div",{...p,ref:u,className:b("ams-image-slider__scroller",l),children:a}));F.displayName="ImageSlider.Scroller";try{ImageSlider.Scroller.displayName="ImageSlider.Scroller",ImageSlider.Scroller.__docgenInfo={description:"",displayName:"ImageSlider.Scroller",props:{}}}catch{}const G=o.forwardRef(({thumbnails:a,imageLabel:l,className:p,...u},h)=>{const{currentSlide:n,goToNextSlide:g,goToPreviousSlide:S,goToSlideId:f}=o.useContext(v),N=d=>{var y;const m=(y=d.target.parentElement)==null?void 0:y.children[n];if(d.key==="ArrowRight"){const t=m==null?void 0:m.nextElementSibling;if(t===m)return;t&&(t.focus(),g())}if(d.key==="ArrowLeft"){const t=m==null?void 0:m.previousElementSibling;if(t===m)return;t&&(t.focus(),S())}};return i.jsx("nav",{...u,ref:h,className:b("ams-image-slider__thumbnails",p),role:"tablist",onKeyDown:N,children:a&&a.map((d,c)=>i.jsx("button",{className:b("ams-image-slider__thumbnail",d.ratio&&`ams-aspect-ratio--${d.ratio}`,n===c&&"ams-image-slider__thumbnail--in-view"),onClick:()=>f(c),style:{backgroundImage:`url(${d.src})`},"aria-label":`${l} ${c+1}: ${d.alt}`,"aria-selected":n===c?"true":"false","aria-setsize":a.length,"aria-posinset":c+1,tabIndex:n===c?0:-1,role:"tab"},c))})});G.displayName="ImageSlider.Thumbnails";try{ImageSlider.Thumbnails.displayName="ImageSlider.Thumbnails",ImageSlider.Thumbnails.__docgenInfo={description:"",displayName:"ImageSlider.Thumbnails",props:{thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!0,type:{name:"ImageSliderImageProps[]"}},imageLabel:{defaultValue:null,description:"",name:"imageLabel",required:!1,type:{name:"string"}},currentSlide:{defaultValue:null,description:"",name:"currentSlide",required:!1,type:{name:"number"}}}}}catch{}const H=o.forwardRef(({className:a,controls:l,imageLabel:p="Afbeelding",previousLabel:u,nextLabel:h,images:n,...g},S)=>{const[f,N]=o.useState(0),[d,c]=o.useState(!0),[m,y]=o.useState(!1),t=o.useRef(null),J=new Set,Q=e=>{var s;const r=Array.from(((s=t.current)==null?void 0:s.children)||[]);for(let I of e)J.add(I),I.isIntersecting&&N(r.indexOf(I.target))},T={root:t.current,threshold:.6};o.useEffect(()=>{const e=new IntersectionObserver(Q,T),r=s=>{switch(s.key){case"ArrowLeft":k();break;case"ArrowRight":V();break}};if(t.current){const s=Array.from(t.current.children);for(let I of s)e.observe(I);t.current.addEventListener("scrollend",E),t.current.addEventListener("keydown",r)}return()=>{t.current&&(t.current.removeEventListener("scrollend",E),t.current.removeEventListener("keydown",r))}},[t,T]);const E=()=>{W()},L=e=>{const r=t.current;if(!r||!e)return;const s=Math.abs(r.offsetLeft-e.offsetLeft);r.scrollTo(s,0)},U=e=>{var s;const r=(s=t.current)==null?void 0:s.children[e];L(r)},V=()=>{var s;const e=(s=t.current)==null?void 0:s.children[f],r=e==null?void 0:e.nextElementSibling;e!==r&&r&&L(r)},k=()=>{var s;const e=(s=t.current)==null?void 0:s.children[f],r=e==null?void 0:e.previousElementSibling;e!==r&&r&&L(r)},W=()=>{const e=t.current,{lastElementChild:r,firstElementChild:s}=e;c(s===(e==null?void 0:e.children[f])),y(r===(e==null?void 0:e.children[f]))};return i.jsx(v.Provider,{value:{atStart:d,atEnd:m,currentSlide:f,goToNextSlide:V,goToPreviousSlide:k,goToSlideId:U},children:i.jsxs("div",{...g,ref:S,"aria-roledescription":"carousel",tabIndex:-1,className:b("ams-image-slider",l&&"ams-image-slider--controls",a),children:[l&&i.jsx(M,{previousLabel:u,nextLabel:h}),i.jsx(F,{tabIndex:0,ref:t,"aria-live":"polite",role:"group",children:n.map((e,r)=>i.jsx(j,{slideId:r,children:i.jsx(Z,{src:e.src,srcSet:e.srcSet,sizes:e.sizes,alt:e.alt,className:`ams-aspect-ratio--${e.ratio}`})},r))}),i.jsx(G,{thumbnails:n,imageLabel:p})]})})});H.displayName="ImageSlider";const C=Object.assign(H,{Item:j});try{C.displayName="ImageSlider",C.__docgenInfo={description:"",displayName:"ImageSlider",props:{controls:{defaultValue:null,description:"Show navigation controls",name:"controls",required:!1,type:{name:"boolean"}},imageLabel:{defaultValue:{value:"Afbeelding"},description:"Label for the image if you need to translate the alt text",name:"imageLabel",required:!1,type:{name:"string"}},nextLabel:{defaultValue:null,description:"Label for the next button",name:"nextLabel",required:!1,type:{name:"string"}},previousLabel:{defaultValue:null,description:"Label for the previous button",name:"previousLabel",required:!1,type:{name:"string"}},images:{defaultValue:null,description:"An array of images to display",name:"images",required:!0,type:{name:"ImageSliderImageProps[]"}}}}}catch{}const re={title:"Components/Media/Image Slider",component:C,args:{images:[{src:"https://picsum.photos/id/122/1280/720",alt:"Bridge",ratio:"x-wide"},{src:"https://picsum.photos/id/101/1280/720",alt:"Bunker",ratio:"x-wide"},{src:"https://picsum.photos/id/153/1280/720",alt:"Chairs",ratio:"x-wide"},{src:"https://picsum.photos/id/159/1280/720",alt:"Droplet",ratio:"x-wide"},{src:"https://picsum.photos/id/123/1280/720",alt:"Dew",ratio:"x-wide"}],controls:!0},decorators:[a=>i.jsx(ee,{children:i.jsx(a,{})})]},_={},x={args:{controls:!1}},w={args:{images:[{src:"https://picsum.photos/id/122/640/360",srcSet:"https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w",sizes:"(max-width: 36rem) 640px, 50vw",alt:"Bridge",ratio:"x-wide"},{src:"https://picsum.photos/id/101/640/360",srcSet:"https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w",sizes:"(max-width: 36rem) 640px, 50vw",alt:"Bunker",ratio:"x-wide"},{src:"https://picsum.photos/id/153/640/360",srcSet:"https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w",sizes:"(max-width: 36rem) 640px, 50vw",alt:"Chairs",ratio:"x-wide"}]}};var q,A,z;_.parameters={..._.parameters,docs:{...(q=_.parameters)==null?void 0:q.docs,source:{originalSource:"{}",...(z=(A=_.parameters)==null?void 0:A.docs)==null?void 0:z.source}}};var D,P,B;x.parameters={...x.parameters,docs:{...(D=x.parameters)==null?void 0:D.docs,source:{originalSource:`{
  args: {
    controls: false
  }
}`,...(B=(P=x.parameters)==null?void 0:P.docs)==null?void 0:B.source}}};var O,$,K;w.parameters={...w.parameters,docs:{...(O=w.parameters)==null?void 0:O.docs,source:{originalSource:`{
  args: {
    images: [{
      src: 'https://picsum.photos/id/122/640/360',
      srcSet: 'https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w',
      sizes: '(max-width: 36rem) 640px, 50vw',
      alt: 'Bridge',
      ratio: 'x-wide'
    }, {
      src: 'https://picsum.photos/id/101/640/360',
      srcSet: 'https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w',
      sizes: '(max-width: 36rem) 640px, 50vw',
      alt: 'Bunker',
      ratio: 'x-wide'
    }, {
      src: 'https://picsum.photos/id/153/640/360',
      srcSet: 'https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w',
      sizes: '(max-width: 36rem) 640px, 50vw',
      alt: 'Chairs',
      ratio: 'x-wide'
    }]
  }
}`,...(K=($=w.parameters)==null?void 0:$.docs)==null?void 0:K.source}}};const se=["Default","NoControls","SourceSetImages"],me=Object.freeze(Object.defineProperty({__proto__:null,Default:_,NoControls:x,SourceSetImages:w,__namedExportsOrder:se,default:re},Symbol.toStringTag,{value:"Module"}));export{me as I,x as N,w as S};
