import{j as t}from"./jsx-runtime-BlAj40OV.js";import{l as ce,e as de}from"./index.esm-Bsc2owIZ.js";import{c as y}from"./clsx-B-dksMZM.js";import{r as o}from"./index-Cs7sjTYM.js";import{I as me}from"./Image-CVzrCme5.js";import{I as q}from"./IconButton-BgcGyAbu.js";import{S as ue}from"./Screen-Bi3gjHLv.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const pe={currentSlide:0,goToSlideId:()=>{}},j=o.createContext(pe),T=o.forwardRef(({children:a,slideId:i,className:n,...c},f)=>{const{currentSlide:m}=o.useContext(j),u=m===i;return t.jsx("div",{...c,ref:f,className:y("ams-image-slider__item",u&&"ams-image-slider__item--in-view",n),...!u&&{inert:""},children:a})});T.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{slideId:{defaultValue:null,description:"this ID needs to match the key or order of the slides (starting with 0)",name:"slideId",required:!0,type:{name:"number"}}}}}catch{}const J=o.forwardRef(({children:a,className:i,...n},c)=>t.jsx("div",{...n,ref:c,className:y("ams-image-slider__scroller",i),children:a}));J.displayName="ImageSlider.Scroller";try{ImageSlider.Scroller.displayName="ImageSlider.Scroller",ImageSlider.Scroller.__docgenInfo={description:"",displayName:"ImageSlider.Scroller",props:{}}}catch{}const Q=o.forwardRef(({thumbnails:a,imageLabel:i,currentSlide:n,className:c,...f},m)=>{const{goToSlideId:u}=o.useContext(j);return t.jsx("nav",{...f,ref:m,className:y("ams-image-slider__thumbnails",c),role:"tablist",children:a&&a.map((p,d)=>t.jsx("button",{className:y("ams-image-slider__thumbnail",p.ratio&&`ams-aspect-ratio--${p.ratio}`,n===d&&"ams-image-slider__thumbnail--in-view"),onClick:()=>u(d),"aria-setsize":a.length,"aria-posinset":d+1,"aria-label":`${i} ${d+1}: ${p.alt}`,style:{backgroundImage:`url(${p.src})`}},d))})});Q.displayName="ImageSlider.Thumbnails";try{ImageSlider.Thumbnails.displayName="ImageSlider.Thumbnails",ImageSlider.Thumbnails.__docgenInfo={description:"",displayName:"ImageSlider.Thumbnails",props:{thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!0,type:{name:"SlideProps[]"}},imageLabel:{defaultValue:null,description:"",name:"imageLabel",required:!1,type:{name:"string"}},currentSlide:{defaultValue:null,description:"",name:"currentSlide",required:!1,type:{name:"number"}}}}}catch{}const U=o.forwardRef(({className:a,slides:i,controls:n,scrollbar:c,snapstop:f,thumbnails:m,previousLabel:u="Vorige",nextLabel:p="Volgende",imageLabel:d="Afbeelding",...W},X)=>{const[g,Y]=o.useState(0),[Z,ee]=o.useState(!0),[re,se]=o.useState(!1),l=o.useRef(null),ae=new Set,te=e=>{var v;const r=((v=l.current)==null?void 0:v.children)||[],s=Array.from(r);for(let N of e)ae.add(N),N.isIntersecting&&Y(s.indexOf(N.target))},V={root:l.current,threshold:.6};o.useEffect(()=>{const e=new IntersectionObserver(te,V);if(l.current){const r=l.current.children,s=Array.from(r);for(let v of s)e.observe(v);l.current.addEventListener("scrollend",le.bind(l.current))}},[l,V]);const le=()=>{ie()},x=e=>{const r=l.current;if(!r||!e)return;const s=Math.abs(r.offsetLeft-e.offsetLeft);r.scrollTo(s,0)},oe=e=>{var s;const r=(s=l.current)==null?void 0:s.children[e];x(r)},C=()=>{var s;const e=(s=l.current)==null?void 0:s.children[g],r=e==null?void 0:e.nextElementSibling;e!==r&&r&&x(r)},L=()=>{var s;const e=(s=l.current)==null?void 0:s.children[g],r=e==null?void 0:e.previousElementSibling;e!==r&&r&&x(r)},ie=()=>{const e=l.current,{lastElementChild:r,firstElementChild:s}=e;ee(s===(e==null?void 0:e.children[g])),se(r===(e==null?void 0:e.children[g]))},ne=e=>{e.key==="ArrowRight"?C():e.key==="ArrowLeft"&&L()};return t.jsx(j.Provider,{value:{currentSlide:g,goToSlideId:oe},children:t.jsxs("div",{...W,ref:X,className:y("ams-image-slider",n&&"ams-image-slider--controls",c&&"ams-image-slider--scrollbar",f&&"ams-image-slider--snapstop",m&&"ams-image-slider--thumbnails",a),children:[n&&t.jsxs("div",{className:"ams-image-slider__controls",onKeyDown:ne,children:[t.jsx(q,{svg:ce,label:u,inverseColor:!0,className:"ams-image-slider__control ams-image-slider__control--previous",onClick:()=>L(),disabled:Z}),t.jsx(q,{svg:de,label:p,inverseColor:!0,className:"ams-image-slider__control ams-image-slider__control--next",onClick:()=>C(),disabled:re})]}),t.jsx(J,{tabIndex:0,ref:l,children:i.map((e,r)=>{var s;return t.jsx(T,{slideId:r,children:t.jsx(me,{src:e.src,srcSet:(s=e.srcSet)==null?void 0:s.join(", "),sizes:e.sizes,alt:e.alt})},r)})}),m&&t.jsx(Q,{thumbnails:i,imageLabel:d,currentSlide:g})]})})});U.displayName="ImageSlider";const w=Object.assign(U,{Item:T});try{w.displayName="ImageSlider",w.__docgenInfo={description:"",displayName:"ImageSlider",props:{slides:{defaultValue:null,description:"",name:"slides",required:!0,type:{name:"SlideProps[]"}},controls:{defaultValue:null,description:"Show navigation controls",name:"controls",required:!1,type:{name:"boolean"}},scrollbar:{defaultValue:null,description:"Show native scrollbar inside gallery",name:"scrollbar",required:!1,type:{name:"boolean"}},snapstop:{defaultValue:null,description:"Prevent passing over possible snap elements",name:"snapstop",required:!1,type:{name:"boolean"}},thumbnails:{defaultValue:null,description:"Show thumbnails",name:"thumbnails",required:!1,type:{name:"boolean"}},previousLabel:{defaultValue:{value:"Vorige"},description:"Label for the previous button",name:"previousLabel",required:!1,type:{name:"string"}},nextLabel:{defaultValue:{value:"Volgende"},description:"Label for the next button",name:"nextLabel",required:!1,type:{name:"string"}},imageLabel:{defaultValue:{value:"Afbeelding"},description:"Label for the image if you need to translate the alt text",name:"imageLabel",required:!1,type:{name:"string"}}}}}catch{}const ge={title:"Components/Media/Image Slider",component:w,args:{slides:[{src:"https://picsum.photos/id/122/1280/720",alt:"This is gallery image 1",ratio:"x-wide"},{src:"https://picsum.photos/id/101/1280/720",alt:"This is gallery image 2",ratio:"x-wide"},{src:"https://picsum.photos/id/153/1280/720",alt:"This is gallery image 3",ratio:"x-wide"},{src:"https://picsum.photos/id/159/1280/720",alt:"This is gallery image 4",ratio:"x-wide"},{src:"https://picsum.photos/id/123/1280/720",alt:"This is gallery image 5",ratio:"x-wide"}],controls:!0,scrollbar:!1,snapstop:!0,thumbnails:!0},decorators:[a=>t.jsx(ue,{children:t.jsx(a,{})})]},h={},S={args:{controls:!1}},b={args:{thumbnails:!1}},_={args:{snapstop:!1,thumbnails:!1,controls:!1}},I={args:{scrollbar:!0,controls:!1,thumbnails:!1}};var E,A,R;h.parameters={...h.parameters,docs:{...(E=h.parameters)==null?void 0:E.docs,source:{originalSource:"{}",...(R=(A=h.parameters)==null?void 0:A.docs)==null?void 0:R.source}}};var k,O,P;S.parameters={...S.parameters,docs:{...(k=S.parameters)==null?void 0:k.docs,source:{originalSource:`{
  args: {
    controls: false
  }
}`,...(P=(O=S.parameters)==null?void 0:O.docs)==null?void 0:P.source}}};var $,D,z;b.parameters={...b.parameters,docs:{...($=b.parameters)==null?void 0:$.docs,source:{originalSource:`{
  args: {
    thumbnails: false
  }
}`,...(z=(D=b.parameters)==null?void 0:D.docs)==null?void 0:z.source}}};var M,K,B;_.parameters={..._.parameters,docs:{...(M=_.parameters)==null?void 0:M.docs,source:{originalSource:`{
  args: {
    snapstop: false,
    thumbnails: false,
    controls: false
  }
}`,...(B=(K=_.parameters)==null?void 0:K.docs)==null?void 0:B.source}}};var F,G,H;I.parameters={...I.parameters,docs:{...(F=I.parameters)==null?void 0:F.docs,source:{originalSource:`{
  args: {
    scrollbar: true,
    controls: false,
    thumbnails: false
  }
}`,...(H=(G=I.parameters)==null?void 0:G.docs)==null?void 0:H.source}}};const fe=["Default","NoControls","NoThumbnails","NoSnapstop","NativeScrollbar"],xe=Object.freeze(Object.defineProperty({__proto__:null,Default:h,NativeScrollbar:I,NoControls:S,NoSnapstop:_,NoThumbnails:b,__namedExportsOrder:fe,default:ge},Symbol.toStringTag,{value:"Module"}));export{xe as I,S as N,b as a,_ as b,I as c};
