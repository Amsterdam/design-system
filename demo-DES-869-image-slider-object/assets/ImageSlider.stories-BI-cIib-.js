import{j as a}from"./jsx-runtime-BlAj40OV.js";import{l as W,e as X}from"./index.esm-BBV4ZYo5.js";import{c as x}from"./clsx-B-dksMZM.js";import{r as o}from"./index-Cs7sjTYM.js";import{I as Y}from"./Image-CVzrCme5.js";import{I as A}from"./IconButton-CifdSLJY.js";import{S as Z}from"./Screen-Bi3gjHLv.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const ee={currentSlide:0,goToNextSlide:()=>{},goToPreviousSlide:()=>{},goToSlideId:()=>{}},T=o.createContext(ee),E=o.forwardRef(({children:i,slideId:m,className:p,...u},f)=>{const{currentSlide:d}=o.useContext(T),h=d===m;return a.jsx("div",{...u,ref:f,className:x("ams-image-slider__item",h&&"ams-image-slider__item--in-view",p),...!h&&{inert:""},children:i})});E.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{slideId:{defaultValue:null,description:"this ID needs to match the key or order of the slides (starting with 0)",name:"slideId",required:!0,type:{name:"number"}}}}}catch{}const M=o.forwardRef(({children:i,className:m,...p},u)=>a.jsx("div",{...p,ref:u,className:x("ams-image-slider__scroller",m),children:i}));M.displayName="ImageSlider.Scroller";try{ImageSlider.Scroller.displayName="ImageSlider.Scroller",ImageSlider.Scroller.__docgenInfo={description:"",displayName:"ImageSlider.Scroller",props:{}}}catch{}const F=o.forwardRef(({thumbnails:i,imageLabel:m,className:p,...u},f)=>{const{currentSlide:d,goToNextSlide:h,goToPreviousSlide:v,goToSlideId:g}=o.useContext(T),y=n=>{var b;const c=(b=n.target.parentElement)==null?void 0:b.children[d];if(n.key==="ArrowRight"){const t=c==null?void 0:c.nextElementSibling;if(t===c)return;t&&(t.focus(),h())}if(n.key==="ArrowLeft"){const t=c==null?void 0:c.previousElementSibling;if(t===c)return;t&&(t.focus(),v())}};return a.jsx("nav",{...u,ref:f,className:x("ams-image-slider__thumbnails",p),role:"tablist",onKeyDown:y,children:i&&i.map((n,l)=>a.jsx("button",{className:x("ams-image-slider__thumbnail",n.ratio&&`ams-aspect-ratio--${n.ratio}`,d===l&&"ams-image-slider__thumbnail--in-view"),onClick:()=>g(l),style:{backgroundImage:`url(${n.src})`},"aria-label":`${m} ${l+1}: ${n.alt}`,"aria-selected":d===l?"true":"false","aria-setsize":i.length,"aria-posinset":l+1,tabIndex:d===l?0:-1,role:"tab"},l))})});F.displayName="ImageSlider.Thumbnails";try{ImageSlider.Thumbnails.displayName="ImageSlider.Thumbnails",ImageSlider.Thumbnails.__docgenInfo={description:"",displayName:"ImageSlider.Thumbnails",props:{thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!0,type:{name:"ImageSliderImageProps[]"}},imageLabel:{defaultValue:null,description:"",name:"imageLabel",required:!1,type:{name:"string"}},currentSlide:{defaultValue:null,description:"",name:"currentSlide",required:!1,type:{name:"number"}}}}}catch{}const G=o.forwardRef(({className:i,controls:m,imageLabel:p="Afbeelding",nextLabel:u="Volgende",previousLabel:f="Vorige",images:d,...h},v)=>{const[g,y]=o.useState(0),[n,l]=o.useState(!0),[c,b]=o.useState(!1),t=o.useRef(null),H=new Set,J=e=>{var s;const r=Array.from(((s=t.current)==null?void 0:s.children)||[]);for(let S of e)H.add(S),S.isIntersecting&&y(r.indexOf(S.target))},V={root:t.current,threshold:.6};o.useEffect(()=>{const e=new IntersectionObserver(J,V),r=s=>{switch(s.key){case"ArrowLeft":j();break;case"ArrowRight":C();break}};if(t.current){const s=Array.from(t.current.children);for(let S of s)e.observe(S);t.current.addEventListener("scrollend",k),t.current.addEventListener("keydown",r)}return()=>{t.current&&(t.current.removeEventListener("scrollend",k),t.current.removeEventListener("keydown",r))}},[t,V]);const k=()=>{U()},N=e=>{const r=t.current;if(!r||!e)return;const s=Math.abs(r.offsetLeft-e.offsetLeft);r.scrollTo(s,0)},Q=e=>{var s;const r=(s=t.current)==null?void 0:s.children[e];N(r)},C=()=>{var s;const e=(s=t.current)==null?void 0:s.children[g],r=e==null?void 0:e.nextElementSibling;e!==r&&r&&N(r)},j=()=>{var s;const e=(s=t.current)==null?void 0:s.children[g],r=e==null?void 0:e.previousElementSibling;e!==r&&r&&N(r)},U=()=>{const e=t.current,{lastElementChild:r,firstElementChild:s}=e;l(s===(e==null?void 0:e.children[g])),b(r===(e==null?void 0:e.children[g]))};return a.jsx(T.Provider,{value:{currentSlide:g,goToNextSlide:C,goToPreviousSlide:j,goToSlideId:Q},children:a.jsxs("div",{...h,ref:v,"aria-roledescription":"carousel",tabIndex:-1,className:x("ams-image-slider",m&&"ams-image-slider--controls",i),children:[m&&a.jsxs("div",{className:"ams-image-slider__controls",children:[a.jsx(A,{svg:W,label:f,inverseColor:!0,className:"ams-image-slider__control ams-image-slider__control--previous",onClick:()=>j(),disabled:n}),a.jsx(A,{svg:X,label:u,inverseColor:!0,className:"ams-image-slider__control ams-image-slider__control--next",onClick:()=>C(),disabled:c})]}),a.jsx(M,{tabIndex:0,ref:t,"aria-live":"polite",role:"group",children:d.map((e,r)=>a.jsx(E,{slideId:r,children:a.jsx(Y,{src:e.src,srcSet:e.srcSet,sizes:e.sizes,alt:e.alt,className:`ams-aspect-ratio--${e.ratio}`})},r))}),a.jsx(F,{thumbnails:d,imageLabel:p})]})})});G.displayName="ImageSlider";const L=Object.assign(G,{Item:E});try{L.displayName="ImageSlider",L.__docgenInfo={description:"",displayName:"ImageSlider",props:{controls:{defaultValue:null,description:"Show navigation controls",name:"controls",required:!1,type:{name:"boolean"}},imageLabel:{defaultValue:{value:"Afbeelding"},description:"Label for the image if you need to translate the alt text",name:"imageLabel",required:!1,type:{name:"string"}},nextLabel:{defaultValue:{value:"Volgende"},description:"Label for the next button",name:"nextLabel",required:!1,type:{name:"string"}},previousLabel:{defaultValue:{value:"Vorige"},description:"Label for the previous button",name:"previousLabel",required:!1,type:{name:"string"}},images:{defaultValue:null,description:"An array of images to display",name:"images",required:!0,type:{name:"ImageSliderImageProps[]"}}}}}catch{}const te={title:"Components/Media/Image Slider",component:L,args:{images:[{src:"https://picsum.photos/id/122/1280/720",alt:"Bridge",ratio:"x-wide"},{src:"https://picsum.photos/id/101/1280/720",alt:"Bunker",ratio:"x-wide"},{src:"https://picsum.photos/id/153/1280/720",alt:"Chairs",ratio:"x-wide"},{src:"https://picsum.photos/id/159/1280/720",alt:"Droplet",ratio:"x-wide"},{src:"https://picsum.photos/id/123/1280/720",alt:"Dew",ratio:"x-wide"}],controls:!0},decorators:[i=>a.jsx(Z,{children:a.jsx(i,{})})]},I={},_={args:{controls:!1}},w={args:{images:[{src:"https://picsum.photos/id/122/640/360",srcSet:"https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w",sizes:"(max-width: 36rem) 640px, 50vw",alt:"Bridge",ratio:"x-wide"},{src:"https://picsum.photos/id/101/640/360",srcSet:"https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w",sizes:"(max-width: 36rem) 640px, 50vw",alt:"Bunker",ratio:"x-wide"},{src:"https://picsum.photos/id/153/640/360",srcSet:"https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w",sizes:"(max-width: 36rem) 640px, 50vw",alt:"Chairs",ratio:"x-wide"}]}};var R,z,q;I.parameters={...I.parameters,docs:{...(R=I.parameters)==null?void 0:R.docs,source:{originalSource:"{}",...(q=(z=I.parameters)==null?void 0:z.docs)==null?void 0:q.source}}};var D,B,O;_.parameters={..._.parameters,docs:{...(D=_.parameters)==null?void 0:D.docs,source:{originalSource:`{
  args: {
    controls: false
  }
}`,...(O=(B=_.parameters)==null?void 0:B.docs)==null?void 0:O.source}}};var P,$,K;w.parameters={...w.parameters,docs:{...(P=w.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    images: [{
      src: 'https://picsum.photos/id/122/640/360',
      srcSet: 'https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w',
      sizes: '(max-width: 36rem) 640px, 50vw',
      alt: 'Bridge',
      ratio: 'x-wide'
    }, {
      src: 'https://picsum.photos/id/101/640/360',
      srcSet: 'https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w',
      sizes: '(max-width: 36rem) 640px, 50vw',
      alt: 'Bunker',
      ratio: 'x-wide'
    }, {
      src: 'https://picsum.photos/id/153/640/360',
      srcSet: 'https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w',
      sizes: '(max-width: 36rem) 640px, 50vw',
      alt: 'Chairs',
      ratio: 'x-wide'
    }]
  }
}`,...(K=($=w.parameters)==null?void 0:$.docs)==null?void 0:K.source}}};const re=["Default","NoControls","SourceSetImages"],de=Object.freeze(Object.defineProperty({__proto__:null,Default:I,NoControls:_,SourceSetImages:w,__namedExportsOrder:re,default:te},Symbol.toStringTag,{value:"Module"}));export{de as I,_ as N,w as S};
