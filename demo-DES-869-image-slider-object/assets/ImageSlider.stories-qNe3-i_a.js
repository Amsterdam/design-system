import{j as o}from"./jsx-runtime-BlAj40OV.js";import{c as _}from"./clsx-B-dksMZM.js";import{r as e}from"./index-Cs7sjTYM.js";import{l as U,e as W}from"./index.esm-BBV4ZYo5.js";import{I as q}from"./IconButton-CifdSLJY.js";import{I as X}from"./Image-CVzrCme5.js";import{S as Y}from"./Screen-Bi3gjHLv.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const Z={currentSlideId:0,isAtStart:!0,isAtEnd:!1,goToNextSlide:()=>{},goToPreviousSlide:()=>{},goToSlideId:()=>{}},T=e.createContext(Z),N=e.forwardRef(({className:i,nextLabel:c,previousLabel:d,...u},f)=>{const{isAtStart:n,isAtEnd:p,goToNextSlide:g,goToPreviousSlide:l}=e.useContext(T),x=e.useCallback(()=>l(),[l]),v=e.useCallback(()=>g(),[g]);return o.jsxs("div",{...u,className:_("ams-image-slider__controls",i),ref:f,children:[o.jsx(q,{className:"ams-image-slider__control ams-image-slider__control--previous",disabled:n,inverseColor:!0,label:d,onClick:x,svg:U}),o.jsx(q,{className:"ams-image-slider__control ams-image-slider__control--next",disabled:p,inverseColor:!0,label:c,onClick:v,svg:W})]})});N.displayName="ImageSliderControls";try{N.displayName="ImageSliderControls",N.__docgenInfo={description:"",displayName:"ImageSliderControls",props:{nextLabel:{defaultValue:null,description:"The label for the ‘next’ button",name:"nextLabel",required:!0,type:{name:"string"}},previousLabel:{defaultValue:null,description:"The label for the ‘previous’ button",name:"previousLabel",required:!0,type:{name:"string"}}}}}catch{}const E=e.forwardRef(({children:i,slideId:c,className:d,...u},f)=>{const{currentSlideId:n}=e.useContext(T),p=e.useMemo(()=>n===c,[n,c]),g=e.useMemo(()=>_("ams-image-slider__item",p&&"ams-image-slider__item--in-view",d),[p,d]);return o.jsx("div",{...u,className:g,ref:f,...!p&&{inert:""},children:i})});E.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{slideId:{defaultValue:null,description:"The identifier of the item. Must match the key or order of the slides (starting at 0).",name:"slideId",required:!0,type:{name:"number"}}}}}catch{}const $=e.forwardRef(({children:i,className:c,...d},u)=>o.jsx("div",{...d,className:_("ams-image-slider__scroller",c),ref:u,children:i}));$.displayName="ImageSlider.Scroller";try{ImageSlider.Scroller.displayName="ImageSlider.Scroller",ImageSlider.Scroller.__docgenInfo={description:"",displayName:"ImageSlider.Scroller",props:{}}}catch{}const K=e.forwardRef(({className:i,imageLabel:c,thumbnails:d,...u},f)=>{const{currentSlideId:n,goToNextSlide:p,goToPreviousSlide:g,goToSlideId:l}=e.useContext(T),x=e.useCallback(S=>{const m=S.currentTarget.children[n];if(S.key==="ArrowRight"){const h=m==null?void 0:m.nextElementSibling;h&&(h.focus(),p())}if(S.key==="ArrowLeft"){const h=m==null?void 0:m.previousElementSibling;h&&(h.focus(),g())}},[n,p,g]),v=e.useMemo(()=>d.map(({alt:S,aspectRatio:m,src:h},r)=>o.jsx("button",{"aria-label":`${c} ${r+1}: ${S}`,"aria-posinset":r+1,"aria-selected":n===r?"true":"false","aria-setsize":d.length,className:_("ams-image-slider__thumbnail",n===r&&"ams-image-slider__thumbnail--in-view",m&&`ams-aspect-ratio--${m}`),onClick:()=>l(r),role:"tab",style:{backgroundImage:`url(${h})`},tabIndex:n===r?0:-1},r)),[n,l,c,d]);return o.jsx("nav",{...u,className:_("ams-image-slider__thumbnails",i),onKeyDown:x,ref:f,role:"tablist",children:v})});K.displayName="ImageSlider.Thumbnails";try{ImageSlider.Thumbnails.displayName="ImageSlider.Thumbnails",ImageSlider.Thumbnails.__docgenInfo={description:"",displayName:"ImageSlider.Thumbnails",props:{imageLabel:{defaultValue:null,description:"",name:"imageLabel",required:!1,type:{name:"string"}},thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!0,type:{name:"ImageSliderImageProps[]"}}}}}catch{}const F=e.forwardRef(({className:i,controls:c,imageLabel:d="Afbeelding",images:u,nextLabel:f="Volgende",previousLabel:n="Vorige",...p},g)=>{const[l,x]=e.useState(0),[v,S]=e.useState(!0),[m,h]=e.useState(!1),r=e.useRef(null),k=e.useRef(null),j=e.useCallback(t=>{var a;const s=Array.from(((a=r.current)==null?void 0:a.children)||[]);t.forEach(I=>{I.isIntersecting&&x(s.indexOf(I.target))})},[]),L=e.useMemo(()=>({root:r.current,threshold:.6}),[]),C=e.useCallback(()=>{const t=r.current;if(!t)return;const{lastElementChild:s,firstElementChild:a}=t;S(a===(t==null?void 0:t.children[l])),h(s===(t==null?void 0:t.children[l]))},[l]);e.useEffect(()=>{if(r.current){k.current=new IntersectionObserver(j,L);const t=k.current,s=Array.from(r.current.children);return s.forEach(a=>t.observe(a)),r.current.addEventListener("scrollend",V),C(),()=>{var a;s.forEach(I=>t.unobserve(I)),(a=r.current)==null||a.removeEventListener("scrollend",V)}}},[j,L,C]);const V=e.useCallback(()=>C(),[C]),b=e.useCallback(t=>{const s=r.current;!s||!t||s.scrollTo({left:Math.abs(s.offsetLeft-t.offsetLeft)})},[]),G=e.useCallback(t=>{var a;const s=(a=r.current)==null?void 0:a.children[t];s&&b(s)},[b]),H=e.useCallback(()=>{var a;const t=(a=r.current)==null?void 0:a.children[l],s=t==null?void 0:t.nextElementSibling;s&&b(s)},[l,b]),J=e.useCallback(()=>{var a;const t=(a=r.current)==null?void 0:a.children[l],s=t==null?void 0:t.previousElementSibling;s&&b(s)},[l,b]);return o.jsx(T.Provider,{value:{isAtStart:v,isAtEnd:m,currentSlideId:l,goToNextSlide:H,goToPreviousSlide:J,goToSlideId:G},children:o.jsxs("div",{...p,"aria-roledescription":"carousel",className:_("ams-image-slider",c&&"ams-image-slider--controls",i),tabIndex:-1,ref:g,children:[c&&o.jsx(N,{nextLabel:f,previousLabel:n}),o.jsx($,{"aria-live":"polite",ref:r,role:"group",tabIndex:0,children:u.map(({alt:t,aspectRatio:s,sizes:a,src:I,srcSet:Q},A)=>o.jsx(E,{slideId:A,children:o.jsx(X,{alt:t,className:`ams-aspect-ratio--${s}`,sizes:a,src:I,srcSet:Q})},A))}),o.jsx(K,{imageLabel:d,thumbnails:u})]})})});F.displayName="ImageSlider";const R=Object.assign(F,{Item:E});try{R.displayName="ImageSlider",R.__docgenInfo={description:"",displayName:"ImageSlider",props:{controls:{defaultValue:null,description:"Display buttons to navigate to the previous or next image.",name:"controls",required:!1,type:{name:"boolean"}},imageLabel:{defaultValue:{value:"Afbeelding"},description:"Label for the image if you need to translate the alt text.",name:"imageLabel",required:!1,type:{name:"string"}},images:{defaultValue:null,description:"The set of images to display.",name:"images",required:!0,type:{name:"ImageSliderImageProps[]"}},nextLabel:{defaultValue:{value:"Volgende"},description:"The label for the ‘next’ button",name:"nextLabel",required:!1,type:{name:"string"}},previousLabel:{defaultValue:{value:"Vorige"},description:"The label for the ‘previous’ button",name:"previousLabel",required:!1,type:{name:"string"}}}}}catch{}const ee={title:"Components/Media/Image Slider",component:R,args:{controls:!0,images:[{alt:"Bridge",aspectRatio:"x-wide",src:"https://picsum.photos/id/122/1280/720"},{alt:"Bunker",aspectRatio:"x-wide",src:"https://picsum.photos/id/101/1280/720"},{alt:"Chairs",aspectRatio:"x-wide",src:"https://picsum.photos/id/153/1280/720"},{alt:"Droplet",aspectRatio:"x-wide",src:"https://picsum.photos/id/159/1280/720"},{alt:"Dew",aspectRatio:"x-wide",src:"https://picsum.photos/id/123/1280/720"}]},decorators:[i=>o.jsx(Y,{children:o.jsx(i,{})})]},w={},y={args:{images:[{alt:"Bridge",aspectRatio:"x-wide",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/122/640/360",srcSet:"https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w"},{alt:"Bunker",aspectRatio:"x-wide",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/101/640/360",srcSet:"https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w"},{alt:"Chairs",aspectRatio:"x-wide",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/153/640/360",srcSet:"https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w"}]}};var P,z,M;w.parameters={...w.parameters,docs:{...(P=w.parameters)==null?void 0:P.docs,source:{originalSource:"{}",...(M=(z=w.parameters)==null?void 0:z.docs)==null?void 0:M.source}}};var B,D,O;y.parameters={...y.parameters,docs:{...(B=y.parameters)==null?void 0:B.docs,source:{originalSource:`{
  args: {
    images: [{
      alt: 'Bridge',
      aspectRatio: 'x-wide',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/122/640/360',
      srcSet: 'https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w'
    }, {
      alt: 'Bunker',
      aspectRatio: 'x-wide',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/101/640/360',
      srcSet: 'https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w'
    }, {
      alt: 'Chairs',
      aspectRatio: 'x-wide',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/153/640/360',
      srcSet: 'https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w'
    }]
  }
}`,...(O=(D=y.parameters)==null?void 0:D.docs)==null?void 0:O.source}}};const te=["Default","ResponsiveImages"],ce=Object.freeze(Object.defineProperty({__proto__:null,Default:w,ResponsiveImages:y,__namedExportsOrder:te,default:ee},Symbol.toStringTag,{value:"Module"}));export{ce as I,y as R};
