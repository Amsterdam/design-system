import{j as l}from"./jsx-runtime-BlAj40OV.js";import{c as _}from"./clsx-B-dksMZM.js";import{r as t}from"./index-Cs7sjTYM.js";import{l as U,e as W}from"./index.esm-BBV4ZYo5.js";import{I as z}from"./IconButton-CifdSLJY.js";import{I as X}from"./Image-CVzrCme5.js";import{S as Y}from"./Screen-Bi3gjHLv.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const Z={currentSlideId:0,isAtStart:!0,isAtEnd:!1,goToNextSlide:()=>{},goToPreviousSlide:()=>{},goToSlideId:()=>{}},T=t.createContext(Z),N=t.forwardRef(({className:o,nextLabel:c,previousLabel:d,...u},S)=>{const{isAtStart:n,isAtEnd:p,goToNextSlide:g,goToPreviousSlide:a}=t.useContext(T),x=t.useCallback(()=>a(),[a]),v=t.useCallback(()=>g(),[g]);return l.jsxs("div",{...u,className:_("ams-image-slider__controls",o),ref:S,children:[l.jsx(z,{className:"ams-image-slider__control ams-image-slider__control--previous",disabled:n,inverseColor:!0,label:d,onClick:x,svg:U}),l.jsx(z,{className:"ams-image-slider__control ams-image-slider__control--next",disabled:p,inverseColor:!0,label:c,onClick:v,svg:W})]})});N.displayName="ImageSliderControls";try{N.displayName="ImageSliderControls",N.__docgenInfo={description:"",displayName:"ImageSliderControls",props:{nextLabel:{defaultValue:null,description:"The label for the ‘next’ button",name:"nextLabel",required:!0,type:{name:"string"}},previousLabel:{defaultValue:null,description:"The label for the ‘previous’ button",name:"previousLabel",required:!0,type:{name:"string"}}}}}catch{}const E=t.forwardRef(({children:o,slideId:c,className:d,...u},S)=>{const{currentSlideId:n}=t.useContext(T),p=t.useMemo(()=>n===c,[n,c]),g=t.useMemo(()=>_("ams-image-slider__item",p&&"ams-image-slider__item--in-view",d),[p,d]);return l.jsx("div",{...u,className:g,ref:S,...!p&&{inert:""},children:o})});E.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{slideId:{defaultValue:null,description:"The identifier of the item. Must match the key or order of the slides (starting at 0).",name:"slideId",required:!0,type:{name:"number"}}}}}catch{}const $=t.forwardRef(({children:o,className:c,...d},u)=>l.jsx("div",{...d,className:_("ams-image-slider__scroller",c),ref:u,children:o}));$.displayName="ImageSlider.Scroller";try{ImageSlider.Scroller.displayName="ImageSlider.Scroller",ImageSlider.Scroller.__docgenInfo={description:"",displayName:"ImageSlider.Scroller",props:{}}}catch{}const K=t.forwardRef(({className:o,imageLabel:c,thumbnails:d,...u},S)=>{const{currentSlideId:n,goToNextSlide:p,goToPreviousSlide:g,goToSlideId:a}=t.useContext(T),x=t.useCallback(I=>{const m=I.currentTarget.children[n];if(I.key==="ArrowRight"){const h=m==null?void 0:m.nextElementSibling;h&&(h.focus(),p())}if(I.key==="ArrowLeft"){const h=m==null?void 0:m.previousElementSibling;h&&(h.focus(),g())}},[n,p,g]),v=t.useMemo(()=>d.map(({alt:I,aspectRatio:m,src:h},r)=>l.jsx("button",{"aria-label":`${c} ${r+1}: ${I}`,"aria-posinset":r+1,"aria-selected":n===r?"true":"false","aria-setsize":d.length,className:_("ams-image-slider__thumbnail",n===r&&"ams-image-slider__thumbnail--in-view",m&&`ams-aspect-ratio--${m}`),onClick:()=>a(r),role:"tab",style:{backgroundImage:`url(${h})`},tabIndex:n===r?0:-1},r)),[n,a,c,d]);return l.jsx("nav",{...u,className:_("ams-image-slider__thumbnails",o),onKeyDown:x,ref:S,role:"tablist",children:v})});K.displayName="ImageSlider.Thumbnails";try{ImageSlider.Thumbnails.displayName="ImageSlider.Thumbnails",ImageSlider.Thumbnails.__docgenInfo={description:"",displayName:"ImageSlider.Thumbnails",props:{imageLabel:{defaultValue:null,description:"",name:"imageLabel",required:!1,type:{name:"string"}},thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!0,type:{name:"ImageSliderImageProps[]"}}}}}catch{}const F=t.forwardRef(({className:o,controls:c,imageLabel:d="Afbeelding",images:u,nextLabel:S="Volgende",previousLabel:n="Vorige",...p},g)=>{const[a,x]=t.useState(0),[v,I]=t.useState(!0),[m,h]=t.useState(!1),r=t.useRef(null),k=t.useRef(null),j=t.useCallback(e=>{var i;const s=Array.from(((i=r.current)==null?void 0:i.children)||[]);e.forEach(b=>{b.isIntersecting&&x(s.indexOf(b.target))})},[]),L=t.useMemo(()=>({root:r.current,threshold:.6}),[]),C=t.useCallback(()=>{const e=r.current;if(!e)return;const{lastElementChild:s,firstElementChild:i}=e;I(i===(e==null?void 0:e.children[a])),h(s===(e==null?void 0:e.children[a]))},[a]);t.useEffect(()=>{if(r.current){k.current=new IntersectionObserver(j,L);const e=k.current,s=Array.from(r.current.children);return s.forEach(i=>e.observe(i)),r.current.addEventListener("scrollend",V),C(),()=>{var i;s.forEach(b=>e.unobserve(b)),(i=r.current)==null||i.removeEventListener("scrollend",V)}}},[j,L,C]);const V=t.useCallback(()=>C(),[C]),f=t.useCallback(e=>{const s=r.current;!s||!e||s.scrollTo({left:s.scrollLeft+e.offsetLeft-s.scrollLeft})},[]),G=t.useCallback(e=>{var i;const s=(i=r.current)==null?void 0:i.children[e];s&&f(s)},[f]),H=t.useCallback(()=>{var i;const e=(i=r.current)==null?void 0:i.children[a],s=e==null?void 0:e.nextElementSibling;s&&f(s)},[a,f]),J=t.useCallback(()=>{var i;const e=(i=r.current)==null?void 0:i.children[a],s=e==null?void 0:e.previousElementSibling;s&&f(s)},[a,f]);return t.useEffect(()=>{const e=()=>{if(r.current&&r.current.children[a]){const s=r.current.children[a];f(s)}};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[a,f]),l.jsx(T.Provider,{value:{isAtStart:v,isAtEnd:m,currentSlideId:a,goToNextSlide:H,goToPreviousSlide:J,goToSlideId:G},children:l.jsxs("div",{...p,"aria-roledescription":"carousel",className:_("ams-image-slider",c&&"ams-image-slider--controls",o),tabIndex:-1,ref:g,children:[c&&l.jsx(N,{nextLabel:S,previousLabel:n}),l.jsx($,{"aria-live":"polite",ref:r,role:"group",tabIndex:0,children:u.map(({alt:e,aspectRatio:s,sizes:i,src:b,srcSet:Q},A)=>l.jsx(E,{slideId:A,children:l.jsx(X,{alt:e,className:`ams-aspect-ratio--${s}`,sizes:i,src:b,srcSet:Q})},A))}),l.jsx(K,{imageLabel:d,thumbnails:u})]})})});F.displayName="ImageSlider";const R=Object.assign(F,{Item:E});try{R.displayName="ImageSlider",R.__docgenInfo={description:"",displayName:"ImageSlider",props:{controls:{defaultValue:null,description:"Display buttons to navigate to the previous or next image.",name:"controls",required:!1,type:{name:"boolean"}},imageLabel:{defaultValue:{value:"Afbeelding"},description:"Label for the image if you need to translate the alt text.",name:"imageLabel",required:!1,type:{name:"string"}},images:{defaultValue:null,description:"The set of images to display.",name:"images",required:!0,type:{name:"ImageSliderImageProps[]"}},nextLabel:{defaultValue:{value:"Volgende"},description:"The label for the ‘next’ button",name:"nextLabel",required:!1,type:{name:"string"}},previousLabel:{defaultValue:{value:"Vorige"},description:"The label for the ‘previous’ button",name:"previousLabel",required:!1,type:{name:"string"}}}}}catch{}const ee={title:"Components/Media/Image Slider",component:R,args:{controls:!0,images:[{alt:"Bridge",aspectRatio:"x-wide",src:"https://picsum.photos/id/122/1280/720"},{alt:"Bunker",aspectRatio:"x-wide",src:"https://picsum.photos/id/101/1280/720"},{alt:"Chairs",aspectRatio:"x-wide",src:"https://picsum.photos/id/153/1280/720"},{alt:"Droplet",aspectRatio:"x-wide",src:"https://picsum.photos/id/159/1280/720"},{alt:"Dew",aspectRatio:"x-wide",src:"https://picsum.photos/id/123/1280/720"}]},decorators:[o=>l.jsx(Y,{children:l.jsx(o,{})})]},w={},y={args:{images:[{alt:"Bridge",aspectRatio:"x-wide",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/122/640/360",srcSet:"https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w"},{alt:"Bunker",aspectRatio:"x-wide",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/101/640/360",srcSet:"https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w"},{alt:"Chairs",aspectRatio:"x-wide",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/153/640/360",srcSet:"https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w"}]}};var q,P,B;w.parameters={...w.parameters,docs:{...(q=w.parameters)==null?void 0:q.docs,source:{originalSource:"{}",...(B=(P=w.parameters)==null?void 0:P.docs)==null?void 0:B.source}}};var D,M,O;y.parameters={...y.parameters,docs:{...(D=y.parameters)==null?void 0:D.docs,source:{originalSource:`{
  args: {
    images: [{
      alt: 'Bridge',
      aspectRatio: 'x-wide',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/122/640/360',
      srcSet: 'https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w'
    }, {
      alt: 'Bunker',
      aspectRatio: 'x-wide',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/101/640/360',
      srcSet: 'https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w'
    }, {
      alt: 'Chairs',
      aspectRatio: 'x-wide',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/153/640/360',
      srcSet: 'https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w'
    }]
  }
}`,...(O=(M=y.parameters)==null?void 0:M.docs)==null?void 0:O.source}}};const te=["Default","ResponsiveImages"],ce=Object.freeze(Object.defineProperty({__proto__:null,Default:w,ResponsiveImages:y,__namedExportsOrder:te,default:ee},Symbol.toStringTag,{value:"Module"}));export{ce as I,y as R};
