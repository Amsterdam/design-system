import{j as o}from"./jsx-runtime-BlAj40OV.js";import{c as I}from"./clsx-B-dksMZM.js";import{r as i}from"./index-Cs7sjTYM.js";import{l as Z,e as ee}from"./index.esm-BBV4ZYo5.js";import{I as A}from"./IconButton-CifdSLJY.js";import{I as te}from"./Image-CVzrCme5.js";import{S as re}from"./Screen-Bi3gjHLv.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const se={atStart:!0,atEnd:!1,currentSlideId:0,goToNextSlide:()=>{},goToPreviousSlide:()=>{},goToSlideId:()=>{}},N=i.createContext(se),y=i.forwardRef(({className:a,nextLabel:l,previousLabel:n,...d},f)=>{const{atStart:c,atEnd:h,goToNextSlide:_,goToPreviousSlide:g}=i.useContext(N);return o.jsxs("div",{...d,className:I("ams-image-slider__controls",a),ref:f,children:[o.jsx(A,{className:"ams-image-slider__control ams-image-slider__control--previous",disabled:c,inverseColor:!0,label:n,onClick:()=>g(),svg:Z}),o.jsx(A,{className:"ams-image-slider__control ams-image-slider__control--next",disabled:h,inverseColor:!0,label:l,onClick:()=>_(),svg:ee})]})});y.displayName="ImageSliderControls";try{y.displayName="ImageSliderControls",y.__docgenInfo={description:"",displayName:"ImageSliderControls",props:{nextLabel:{defaultValue:null,description:"The label for the ‘next’ button",name:"nextLabel",required:!0,type:{name:"string"}},previousLabel:{defaultValue:null,description:"The label for the ‘previous’ button",name:"previousLabel",required:!0,type:{name:"string"}}}}}catch{}const j=i.forwardRef(({children:a,slideId:l,className:n,...d},f)=>{const{currentSlideId:c}=i.useContext(N),h=c===l;return o.jsx("div",{...d,className:I("ams-image-slider__item",h&&"ams-image-slider__item--in-view",n),ref:f,...!h&&{inert:""},children:a})});j.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{slideId:{defaultValue:null,description:"The identifier of the item. Must match the key or order of the slides (starting at 0).",name:"slideId",required:!0,type:{name:"number"}}}}}catch{}const G=i.forwardRef(({children:a,className:l,...n},d)=>o.jsx("div",{...n,className:I("ams-image-slider__scroller",l),ref:d,children:a}));G.displayName="ImageSlider.Scroller";try{ImageSlider.Scroller.displayName="ImageSlider.Scroller",ImageSlider.Scroller.__docgenInfo={description:"",displayName:"ImageSlider.Scroller",props:{}}}catch{}const H=i.forwardRef(({className:a,imageLabel:l,thumbnails:n,...d},f)=>{const{currentSlideId:c,goToNextSlide:h,goToPreviousSlide:_,goToSlideId:g}=i.useContext(N),T=m=>{var v;const u=(v=m.target.parentElement)==null?void 0:v.children[c];if(m.key==="ArrowRight"){const t=u==null?void 0:u.nextElementSibling;if(t===u)return;t&&(t.focus(),h())}if(m.key==="ArrowLeft"){const t=u==null?void 0:u.previousElementSibling;if(t===u)return;t&&(t.focus(),_())}};return o.jsx("nav",{...d,className:I("ams-image-slider__thumbnails",a),onKeyDown:T,ref:f,role:"tablist",children:n&&n.map((m,p)=>o.jsx("button",{"aria-label":`${l} ${p+1}: ${m.alt}`,"aria-posinset":p+1,"aria-selected":c===p?"true":"false","aria-setsize":n.length,className:I("ams-image-slider__thumbnail",c===p&&"ams-image-slider__thumbnail--in-view",m.ratio&&`ams-aspect-ratio--${m.ratio}`),onClick:()=>g(p),role:"tab",style:{backgroundImage:`url(${m.src})`},tabIndex:c===p?0:-1},p))})});H.displayName="ImageSlider.Thumbnails";try{ImageSlider.Thumbnails.displayName="ImageSlider.Thumbnails",ImageSlider.Thumbnails.__docgenInfo={description:"",displayName:"ImageSlider.Thumbnails",props:{imageLabel:{defaultValue:null,description:"",name:"imageLabel",required:!1,type:{name:"string"}},thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!0,type:{name:"ImageSliderImageProps[]"}}}}}catch{}const J=i.forwardRef(({className:a,controls:l,imageLabel:n="Afbeelding",images:d,nextLabel:f="Volgende",previousLabel:c="Vorige",...h},_)=>{const[g,T]=i.useState(0),[m,p]=i.useState(!0),[u,v]=i.useState(!1),t=i.useRef(null),Q=new Set,U=e=>{var s;const r=Array.from(((s=t.current)==null?void 0:s.children)||[]);for(let S of e)Q.add(S),S.isIntersecting&&T(r.indexOf(S.target))},E={root:t.current,threshold:.6};i.useEffect(()=>{const e=new IntersectionObserver(U,E),r=s=>{switch(s.key){case"ArrowLeft":R();break;case"ArrowRight":k();break}};if(t.current){const s=Array.from(t.current.children);for(let S of s)e.observe(S);t.current.addEventListener("scrollend",V),t.current.addEventListener("keydown",r)}return()=>{t.current&&(t.current.removeEventListener("scrollend",V),t.current.removeEventListener("keydown",r))}},[E,t]);const V=()=>X(),C=e=>{const r=t.current;if(!r||!e)return;const s=Math.abs(r.offsetLeft-e.offsetLeft);r.scrollTo(s,0)},W=e=>{var s;const r=(s=t.current)==null?void 0:s.children[e];C(r)},k=()=>{var s;const e=(s=t.current)==null?void 0:s.children[g],r=e==null?void 0:e.nextElementSibling;e!==r&&r&&C(r)},R=()=>{var s;const e=(s=t.current)==null?void 0:s.children[g],r=e==null?void 0:e.previousElementSibling;e!==r&&r&&C(r)},X=()=>{const e=t.current,{lastElementChild:r,firstElementChild:s}=e;p(s===(e==null?void 0:e.children[g])),v(r===(e==null?void 0:e.children[g]))};return o.jsx(N.Provider,{value:{atStart:m,atEnd:u,currentSlideId:g,goToNextSlide:k,goToPreviousSlide:R,goToSlideId:W},children:o.jsxs("div",{...h,"aria-roledescription":"carousel",className:I("ams-image-slider",l&&"ams-image-slider--controls",a),tabIndex:-1,ref:_,children:[l&&o.jsx(y,{nextLabel:f,previousLabel:c}),o.jsx(G,{"aria-live":"polite",ref:t,role:"group",tabIndex:0,children:d.map(({alt:e,ratio:r,sizes:s,src:S,srcSet:Y},q)=>o.jsx(j,{slideId:q,children:o.jsx(te,{alt:e,className:`ams-aspect-ratio--${r}`,sizes:s,src:S,srcSet:Y})},q))}),o.jsx(H,{imageLabel:n,thumbnails:d})]})})});J.displayName="ImageSlider";const L=Object.assign(J,{Item:j});try{L.displayName="ImageSlider",L.__docgenInfo={description:"",displayName:"ImageSlider",props:{controls:{defaultValue:null,description:"Display buttons to navigate to the previous or next image.",name:"controls",required:!1,type:{name:"boolean"}},imageLabel:{defaultValue:{value:"Afbeelding"},description:"Label for the image if you need to translate the alt text.",name:"imageLabel",required:!1,type:{name:"string"}},images:{defaultValue:null,description:"The set of images to display.",name:"images",required:!0,type:{name:"ImageSliderImageProps[]"}},nextLabel:{defaultValue:{value:"Volgende"},description:"The label for the ‘next’ button",name:"nextLabel",required:!1,type:{name:"string"}},previousLabel:{defaultValue:{value:"Vorige"},description:"The label for the ‘previous’ button",name:"previousLabel",required:!1,type:{name:"string"}}}}}catch{}const ae={title:"Components/Media/Image Slider",component:L,args:{controls:!0,images:[{alt:"Bridge",ratio:"x-wide",src:"https://picsum.photos/id/122/1280/720"},{alt:"Bunker",ratio:"x-wide",src:"https://picsum.photos/id/101/1280/720"},{alt:"Chairs",ratio:"x-wide",src:"https://picsum.photos/id/153/1280/720"},{alt:"Droplet",ratio:"x-wide",src:"https://picsum.photos/id/159/1280/720"},{alt:"Dew",ratio:"x-wide",src:"https://picsum.photos/id/123/1280/720"}]},decorators:[a=>o.jsx(re,{children:o.jsx(a,{})})]},x={},b={args:{controls:!1}},w={args:{images:[{alt:"Bridge",ratio:"x-wide",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/122/640/360",srcSet:"https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w"},{alt:"Bunker",ratio:"x-wide",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/101/640/360",srcSet:"https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w"},{alt:"Chairs",ratio:"x-wide",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/153/640/360",srcSet:"https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w"}]}};var z,D,P;x.parameters={...x.parameters,docs:{...(z=x.parameters)==null?void 0:z.docs,source:{originalSource:"{}",...(P=(D=x.parameters)==null?void 0:D.docs)==null?void 0:P.source}}};var B,O,$;b.parameters={...b.parameters,docs:{...(B=b.parameters)==null?void 0:B.docs,source:{originalSource:`{
  args: {
    controls: false
  }
}`,...($=(O=b.parameters)==null?void 0:O.docs)==null?void 0:$.source}}};var M,K,F;w.parameters={...w.parameters,docs:{...(M=w.parameters)==null?void 0:M.docs,source:{originalSource:`{
  args: {
    images: [{
      alt: 'Bridge',
      ratio: 'x-wide',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/122/640/360',
      srcSet: 'https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w'
    }, {
      alt: 'Bunker',
      ratio: 'x-wide',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/101/640/360',
      srcSet: 'https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w'
    }, {
      alt: 'Chairs',
      ratio: 'x-wide',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/153/640/360',
      srcSet: 'https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w'
    }]
  }
}`,...(F=(K=w.parameters)==null?void 0:K.docs)==null?void 0:F.source}}};const oe=["Default","NoControls","SourceSetImages"],ue=Object.freeze(Object.defineProperty({__proto__:null,Default:x,NoControls:b,SourceSetImages:w,__namedExportsOrder:oe,default:ae},Symbol.toStringTag,{value:"Module"}));export{ue as I,b as N,w as S};
