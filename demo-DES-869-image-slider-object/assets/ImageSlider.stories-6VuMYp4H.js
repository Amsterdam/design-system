import{j as o}from"./jsx-runtime-BlAj40OV.js";import{l as le,e as ce}from"./index.esm-Bsc2owIZ.js";import{c as y}from"./clsx-B-dksMZM.js";import{r as n}from"./index-Cs7sjTYM.js";import{I as de}from"./Image-CVzrCme5.js";import{I as k}from"./IconButton-BgcGyAbu.js";import{S as me}from"./Screen-Bi3gjHLv.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const pe={currentSlide:0,goToSlideId:()=>{}},L=n.createContext(pe),V=n.forwardRef(({children:a,slideId:d,className:l,...m},h)=>{const{currentSlide:S}=n.useContext(L),g=S===d;return o.jsx("div",{...m,ref:h,className:y("ams-image-slider__item",g&&"ams-image-slider__item--in-view",l),...!g&&{inert:""},children:a})});V.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{slideId:{defaultValue:null,description:"this ID needs to match the key or order of the slides (starting with 0)",name:"slideId",required:!0,type:{name:"number"}}}}}catch{}const Q=n.forwardRef(({children:a,className:d,...l},m)=>o.jsx("div",{...l,ref:m,className:y("ams-image-slider__scroller",d),children:a}));Q.displayName="ImageSlider.Scroller";try{ImageSlider.Scroller.displayName="ImageSlider.Scroller",ImageSlider.Scroller.__docgenInfo={description:"",displayName:"ImageSlider.Scroller",props:{}}}catch{}const U=n.forwardRef(({thumbnails:a,imageLabel:d,currentSlide:l,className:m,...h},S)=>{const{goToSlideId:g}=n.useContext(L);return o.jsx("nav",{...h,ref:S,className:y("ams-image-slider__thumbnails",m),role:"tablist",children:a&&a.map((f,c)=>o.jsx("button",{className:y("ams-image-slider__thumbnail",f.ratio&&`ams-aspect-ratio--${f.ratio}`,l===c&&"ams-image-slider__thumbnail--in-view"),onClick:()=>g(c),style:{backgroundImage:`url(${f.src})`},"aria-label":`${d} ${c+1}: ${f.alt}`,"aria-selected":l===c?"true":"false","aria-setsize":a.length,"aria-posinset":c+1,tabIndex:l===c?0:-1,role:"tab"},c))})});U.displayName="ImageSlider.Thumbnails";try{ImageSlider.Thumbnails.displayName="ImageSlider.Thumbnails",ImageSlider.Thumbnails.__docgenInfo={description:"",displayName:"ImageSlider.Thumbnails",props:{thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!0,type:{name:"SlideProps[]"}},imageLabel:{defaultValue:null,description:"",name:"imageLabel",required:!1,type:{name:"string"}},currentSlide:{defaultValue:null,description:"",name:"currentSlide",required:!1,type:{name:"number"}}}}}catch{}const W=n.forwardRef(({className:a,slides:d,controls:l,scrollbar:m,thumbnails:h,previousLabel:S="Vorige",nextLabel:g="Volgende",imageLabel:f="Afbeelding",...c},X)=>{const[p,Y]=n.useState(0),[Z,ee]=n.useState(!0),[re,se]=n.useState(!1),t=n.useRef(null),te=new Set,ae=e=>{var u;const s=((u=t.current)==null?void 0:u.children)||[],r=Array.from(s);for(let i of e)te.add(i),i.isIntersecting&&Y(r.indexOf(i.target))},E={root:t.current,threshold:.6};n.useEffect(()=>{const e=new IntersectionObserver(ae,E),s=r=>{switch(r.key){case"ArrowLeft":C();break;case"ArrowRight":N();break}};if(t.current){const r=t.current.children,u=Array.from(r);for(let i of u)e.observe(i);t.current.addEventListener("scrollend",T),t.current.addEventListener("keydown",s)}return()=>{t.current&&(t.current.removeEventListener("scrollend",T),t.current.removeEventListener("keydown",s))}},[t,E]);const T=()=>{ne()},oe=e=>{var u;const r=(u=e.target.parentElement)==null?void 0:u.children[p];if(e.key==="ArrowRight"){const i=r==null?void 0:r.nextElementSibling;if(i===r)return;i&&(i.focus(),N())}if(e.key==="ArrowLeft"){const i=r==null?void 0:r.previousElementSibling;if(i===r)return;i&&(i.focus(),C())}},v=e=>{const s=t.current;if(!s||!e)return;const r=Math.abs(s.offsetLeft-e.offsetLeft);s.scrollTo(r,0)},ie=e=>{var r;const s=(r=t.current)==null?void 0:r.children[e];v(s)},N=()=>{var r;const e=(r=t.current)==null?void 0:r.children[p],s=e==null?void 0:e.nextElementSibling;e!==s&&s&&v(s)},C=()=>{var r;const e=(r=t.current)==null?void 0:r.children[p],s=e==null?void 0:e.previousElementSibling;e!==s&&s&&v(s)},ne=()=>{const e=t.current,{lastElementChild:s,firstElementChild:r}=e;ee(r===(e==null?void 0:e.children[p])),se(s===(e==null?void 0:e.children[p]))};return o.jsx(L.Provider,{value:{currentSlide:p,goToSlideId:ie},children:o.jsxs("div",{...c,ref:X,"aria-roledescription":"carousel",tabIndex:-1,className:y("ams-image-slider",l&&"ams-image-slider--controls",m&&"ams-image-slider--scrollbar",h&&"ams-image-slider--thumbnails",a),children:[l&&o.jsxs("div",{className:"ams-image-slider__controls",children:[o.jsx(k,{svg:le,label:S,inverseColor:!0,className:"ams-image-slider__control ams-image-slider__control--previous",onClick:()=>C(),disabled:Z}),o.jsx(k,{svg:ce,label:g,inverseColor:!0,className:"ams-image-slider__control ams-image-slider__control--next",onClick:()=>N(),disabled:re})]}),o.jsx(Q,{tabIndex:0,ref:t,"aria-live":"polite",role:"group",children:d.map((e,s)=>o.jsx(V,{slideId:s,children:o.jsx(de,{src:e.src,srcSet:e.srcSet,sizes:e.sizes,alt:e.alt})},s))}),h&&o.jsx(U,{thumbnails:d,imageLabel:f,currentSlide:p,onKeyDown:oe})]})})});W.displayName="ImageSlider";const j=Object.assign(W,{Item:V});try{j.displayName="ImageSlider",j.__docgenInfo={description:"",displayName:"ImageSlider",props:{slides:{defaultValue:null,description:"An array of images to display",name:"slides",required:!0,type:{name:"SlideProps[]"}},controls:{defaultValue:null,description:"Show navigation controls",name:"controls",required:!1,type:{name:"boolean"}},scrollbar:{defaultValue:null,description:"Show native scrollbar inside gallery",name:"scrollbar",required:!1,type:{name:"boolean"}},thumbnails:{defaultValue:null,description:"Show thumbnails",name:"thumbnails",required:!1,type:{name:"boolean"}},previousLabel:{defaultValue:{value:"Vorige"},description:"Label for the previous button",name:"previousLabel",required:!1,type:{name:"string"}},nextLabel:{defaultValue:{value:"Volgende"},description:"Label for the next button",name:"nextLabel",required:!1,type:{name:"string"}},imageLabel:{defaultValue:{value:"Afbeelding"},description:"Label for the image if you need to translate the alt text",name:"imageLabel",required:!1,type:{name:"string"}}}}}catch{}const ue={title:"Components/Media/Image Slider",component:j,args:{slides:[{src:"https://picsum.photos/id/122/1280/720",alt:"Bridge",ratio:"x-wide"},{src:"https://picsum.photos/id/101/1280/720",alt:"Bunker",ratio:"x-wide"},{src:"https://picsum.photos/id/153/1280/720",alt:"Chairs",ratio:"x-wide"},{src:"https://picsum.photos/id/159/1280/720",alt:"Droplet",ratio:"x-wide"},{src:"https://picsum.photos/id/123/1280/720",alt:"Dew",ratio:"x-wide"}],controls:!0,scrollbar:!1,thumbnails:!0},decorators:[a=>o.jsx(me,{children:o.jsx(a,{})})]},b={},I={args:{controls:!1}},w={args:{thumbnails:!1}},_={args:{scrollbar:!0,controls:!1,thumbnails:!1}},x={args:{slides:[{src:"https://picsum.photos/id/122/640/360",srcSet:"https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w",sizes:"(max-width: 36rem) 640px, 50vw",alt:"Bridge",ratio:"x-wide"},{src:"https://picsum.photos/id/101/640/360",srcSet:"https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w",sizes:"(max-width: 36rem) 640px, 50vw",alt:"Bunker",ratio:"x-wide"},{src:"https://picsum.photos/id/153/640/360",srcSet:"https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w",sizes:"(max-width: 36rem) 640px, 50vw",alt:"Chairs",ratio:"x-wide"}]}};var A,q,R;b.parameters={...b.parameters,docs:{...(A=b.parameters)==null?void 0:A.docs,source:{originalSource:"{}",...(R=(q=b.parameters)==null?void 0:q.docs)==null?void 0:R.source}}};var z,D,B;I.parameters={...I.parameters,docs:{...(z=I.parameters)==null?void 0:z.docs,source:{originalSource:`{
  args: {
    controls: false
  }
}`,...(B=(D=I.parameters)==null?void 0:D.docs)==null?void 0:B.source}}};var O,$,P;w.parameters={...w.parameters,docs:{...(O=w.parameters)==null?void 0:O.docs,source:{originalSource:`{
  args: {
    thumbnails: false
  }
}`,...(P=($=w.parameters)==null?void 0:$.docs)==null?void 0:P.source}}};var K,M,F;_.parameters={..._.parameters,docs:{...(K=_.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: {
    scrollbar: true,
    controls: false,
    thumbnails: false
  }
}`,...(F=(M=_.parameters)==null?void 0:M.docs)==null?void 0:F.source}}};var G,H,J;x.parameters={...x.parameters,docs:{...(G=x.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: {
    slides: [{
      src: 'https://picsum.photos/id/122/640/360',
      srcSet: 'https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w',
      sizes: '(max-width: 36rem) 640px, 50vw',
      alt: 'Bridge',
      ratio: 'x-wide'
    }, {
      src: 'https://picsum.photos/id/101/640/360',
      srcSet: 'https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w',
      sizes: '(max-width: 36rem) 640px, 50vw',
      alt: 'Bunker',
      ratio: 'x-wide'
    }, {
      src: 'https://picsum.photos/id/153/640/360',
      srcSet: 'https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w',
      sizes: '(max-width: 36rem) 640px, 50vw',
      alt: 'Chairs',
      ratio: 'x-wide'
    }]
  }
}`,...(J=(H=x.parameters)==null?void 0:H.docs)==null?void 0:J.source}}};const he=["Default","NoControls","NoThumbnails","NativeScrollbar","SourceSetImages"],xe=Object.freeze(Object.defineProperty({__proto__:null,Default:b,NativeScrollbar:_,NoControls:I,NoThumbnails:w,SourceSetImages:x,__namedExportsOrder:he,default:ue},Symbol.toStringTag,{value:"Module"}));export{xe as I,I as N,x as S,w as a,_ as b};
