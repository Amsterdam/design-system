import{j as e}from"./jsx-runtime-BlAj40OV.js";import{r as H,h as J}from"./index.esm-DY3iRp4W.js";import{c as S}from"./clsx-B-dksMZM.js";import{r as o}from"./index-Cs7sjTYM.js";import{I as N}from"./IconButton-DaVLp41G.js";import{A as p}from"./AspectRatio-Btqti7q-.js";import{I as g}from"./Image-CVzrCme5.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const Q={currentSlide:0,goToSlideId:()=>{}},b=o.createContext(Q),A=o.forwardRef(({children:a,slideId:d,className:l,...c},h)=>{const{currentSlide:u}=o.useContext(b),m=u===d;return e.jsx("div",{...c,ref:h,className:S("ams-image-slider__item",m&&"ams-image-slider__item--in-view",l),...!m&&{inert:""},children:a})});A.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{slideId:{defaultValue:null,description:"this ID needs to match the key or order of the slides (starting with 0)",name:"slideId",required:!0,type:{name:"number"}}}}}catch{}const E=o.forwardRef(({children:a,className:d,...l},c)=>e.jsx("div",{...l,ref:c,className:S("ams-image-slider__scroller",d),children:a}));E.displayName="ImageSlider.Scroller";try{ImageSlider.Scroller.displayName="ImageSlider.Scroller",ImageSlider.Scroller.__docgenInfo={description:"",displayName:"ImageSlider.Scroller",props:{}}}catch{}const V=o.forwardRef(({thumbnails:a,className:d,...l},c)=>{const{goToSlideId:h}=o.useContext(b);return e.jsx("div",{...l,ref:c,className:S("ams-image-slider__thumbnails",d),children:a&&a.map((u,m)=>e.jsx("button",{className:"ams-image-slider__thumbnail",onClick:()=>h(m),children:u},m))})});V.displayName="ImageSlider.Thumbnails";try{ImageSlider.Thumbnails.displayName="ImageSlider.Thumbnails",ImageSlider.Thumbnails.__docgenInfo={description:"",displayName:"ImageSlider.Thumbnails",props:{thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!0,type:{name:"ReactNode[]"}}}}}catch{}const k=o.forwardRef(({children:a,className:d,controls:l,scrollbar:c,snapstop:h,thumbnails:u,...m},z)=>{const[f,O]=o.useState(0),[q,D]=o.useState(!0),[L,P]=o.useState(!1),i=o.useRef(null),B=new Set,M=r=>{var _;const s=((_=i.current)==null?void 0:_.children)||[],t=Array.from(s);for(let y of r)B.add(y),y.isIntersecting&&O(t.indexOf(y.target))},j={root:i.current,threshold:.6};o.useEffect(()=>{const r=new IntersectionObserver(M,j);if(i.current){const s=i.current.children,t=Array.from(s);for(let _ of t)r.observe(_);i.current.addEventListener("scrollend",K.bind(i.current))}},[i,j]);const K=()=>{F()},x=r=>{const s=i.current;if(!s||!r)return;const t=Math.abs(s.offsetLeft-r.offsetLeft);s.scrollTo(t,0)},$=r=>{const s=i.current,t=s==null?void 0:s.children[r];x(t)},v=()=>{const r=i.current,s=r==null?void 0:r.children[f],t=s==null?void 0:s.nextElementSibling;s!==t&&t&&x(t)},w=()=>{const r=i.current,s=r==null?void 0:r.children[f],t=s==null?void 0:s.previousElementSibling;s!==t&&t&&x(t)},F=()=>{const r=i.current,{lastElementChild:s,firstElementChild:t}=r;D(t===(r==null?void 0:r.children[f])),P(s===(r==null?void 0:r.children[f]))},G=r=>{r.key==="ArrowRight"?v():r.key==="ArrowLeft"&&w()};return e.jsx(b.Provider,{value:{currentSlide:f,goToSlideId:$},children:e.jsxs("div",{...m,ref:z,className:S("ams-image-slider",l&&"ams-image-slider--controls",c&&"ams-image-slider--scrollbar",h&&"ams-image-slider--snapstop",u&&"ams-image-slider--thumbnails",d),children:[l&&e.jsxs("div",{className:"ams-image-slider__controls",onKeyDown:G,children:[e.jsx(N,{svg:H,label:"Vorige",onBackground:"dark",className:"ams-image-slider__control ams-image-slider__control--previous",onClick:()=>w(),disabled:q}),e.jsx(N,{svg:J,label:"Volgende",onBackground:"dark",className:"ams-image-slider__control ams-image-slider__control--next",onClick:()=>v(),disabled:L})]}),e.jsx(E,{tabIndex:0,ref:i,children:a}),u&&e.jsx(V,{thumbnails:o.Children.toArray(a)})]})})});k.displayName="ImageSlider";const n=Object.assign(k,{Item:A});try{n.displayName="ImageSlider",n.__docgenInfo={description:"",displayName:"ImageSlider",props:{controls:{defaultValue:null,description:"Show navigation controls",name:"controls",required:!1,type:{name:"boolean"}},scrollbar:{defaultValue:null,description:"Show native scrollbar inside gallery",name:"scrollbar",required:!1,type:{name:"boolean"}},snapstop:{defaultValue:null,description:"Prevent passing over possible snap elements",name:"snapstop",required:!1,type:{name:"boolean"}},thumbnails:{defaultValue:null,description:"Show thumbnails",name:"thumbnails",required:!1,type:{name:"boolean"}}}}}catch{}const U={title:"Components/Media/Image Slider",component:n,args:{children:[e.jsx(n.Item,{slideId:0,children:e.jsx(p,{ratio:"x-wide",children:e.jsx(g,{src:"https://picsum.photos/id/122/1280/720",loading:"lazy",cover:!0})})},"1"),e.jsx(n.Item,{slideId:1,children:e.jsx(p,{ratio:"x-wide",children:e.jsx(g,{src:"https://picsum.photos/id/101/1280/720",loading:"lazy",cover:!0})})},"2"),e.jsx(n.Item,{slideId:2,children:e.jsx(p,{ratio:"x-wide",children:e.jsx(g,{src:"https://picsum.photos/id/153/1280/720",loading:"lazy",cover:!0})})},"3"),e.jsx(n.Item,{slideId:2,children:e.jsx(p,{ratio:"x-wide",children:e.jsx(g,{src:"https://picsum.photos/id/159/1280/720",loading:"lazy",cover:!0})})},"4"),e.jsx(n.Item,{slideId:2,children:e.jsx(p,{ratio:"x-wide",children:e.jsx(g,{src:"https://picsum.photos/id/123/1280/720",loading:"lazy",cover:!0})})},"5"),e.jsx(n.Item,{slideId:2,children:e.jsx(p,{ratio:"x-wide",children:e.jsx(g,{src:"https://picsum.photos/id/151/1280/720",loading:"lazy",cover:!0})})},"6")],controls:!0,scrollbar:!1,snapstop:!0,thumbnails:!0}},I={};var C,T,R;I.parameters={...I.parameters,docs:{...(C=I.parameters)==null?void 0:C.docs,source:{originalSource:"{}",...(R=(T=I.parameters)==null?void 0:T.docs)==null?void 0:R.source}}};const W=["Default"],ae=Object.freeze(Object.defineProperty({__proto__:null,Default:I,__namedExportsOrder:W,default:U},Symbol.toStringTag,{value:"Module"}));export{ae as I};
