import{j as r}from"./jsx-runtime-BlAj40OV.js";import{l as de,e as me}from"./index.esm-Bsc2owIZ.js";import{c as v}from"./clsx-B-dksMZM.js";import{r as l}from"./index-Cs7sjTYM.js";import{I as R}from"./IconButton-BgcGyAbu.js";import{A as f}from"./AspectRatio-Cd0KgYDn.js";import{I as h}from"./Image-CVzrCme5.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const ue={currentSlide:0,goToSlideId:()=>{}},w=l.createContext(ue),H=l.forwardRef(({children:t,slideId:d,className:n,...m},p)=>{const{currentSlide:u}=l.useContext(w),i=u===d;return r.jsx("div",{...m,ref:p,className:v("ams-image-slider__item",i&&"ams-image-slider__item--in-view",n),...!i&&{inert:""},children:t})});H.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{slideId:{defaultValue:null,description:"this ID needs to match the key or order of the slides (starting with 0)",name:"slideId",required:!0,type:{name:"number"}}}}}catch{}const J=l.forwardRef(({children:t,className:d,...n},m)=>r.jsx("div",{...n,ref:m,className:v("ams-image-slider__scroller",d),children:t}));J.displayName="ImageSlider.Scroller";try{ImageSlider.Scroller.displayName="ImageSlider.Scroller",ImageSlider.Scroller.__docgenInfo={description:"",displayName:"ImageSlider.Scroller",props:{}}}catch{}const Q=l.forwardRef(({thumbnails:t,className:d,...n},m)=>{const{goToSlideId:p}=l.useContext(w);return r.jsx("nav",{...n,ref:m,className:v("ams-image-slider__thumbnails",d),children:t&&t.map((u,i)=>r.jsx("button",{className:"ams-image-slider__thumbnail",onClick:()=>p(i),"aria-setsize":t.length,"aria-posinset":i+1,"aria-label":`Image ${i+1} of ${t.length}`,children:r.jsx("div",{"aria-hidden":"true",children:u})},i))})});Q.displayName="ImageSlider.Thumbnails";try{ImageSlider.Thumbnails.displayName="ImageSlider.Thumbnails",ImageSlider.Thumbnails.__docgenInfo={description:"",displayName:"ImageSlider.Thumbnails",props:{thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!0,type:{name:"ReactNode[]"}}}}}catch{}const U=l.forwardRef(({children:t,className:d,controls:n,scrollbar:m,snapstop:p,thumbnails:u,previousLabel:i="Vorige",nextLabel:W="Volgende",...X},Y)=>{const[g,Z]=l.useState(0),[ee,re]=l.useState(!0),[se,ae]=l.useState(!1),o=l.useRef(null),te=new Set,oe=e=>{var x;const s=((x=o.current)==null?void 0:x.children)||[],a=Array.from(s);for(let N of e)te.add(N),N.isIntersecting&&Z(a.indexOf(N.target))},T={root:o.current,threshold:.6};l.useEffect(()=>{const e=new IntersectionObserver(oe,T);if(o.current){const s=o.current.children,a=Array.from(s);for(let x of a)e.observe(x);o.current.addEventListener("scrollend",le.bind(o.current))}},[o,T]);const le=()=>{ne()},j=e=>{const s=o.current;if(!s||!e)return;const a=Math.abs(s.offsetLeft-e.offsetLeft);s.scrollTo(a,0)},ie=e=>{var a;const s=(a=o.current)==null?void 0:a.children[e];j(s)},C=()=>{var a;const e=(a=o.current)==null?void 0:a.children[g],s=e==null?void 0:e.nextElementSibling;e!==s&&s&&j(s)},V=()=>{var a;const e=(a=o.current)==null?void 0:a.children[g],s=e==null?void 0:e.previousElementSibling;e!==s&&s&&j(s)},ne=()=>{const e=o.current,{lastElementChild:s,firstElementChild:a}=e;re(a===(e==null?void 0:e.children[g])),ae(s===(e==null?void 0:e.children[g]))},ce=e=>{e.key==="ArrowRight"?C():e.key==="ArrowLeft"&&V()};return r.jsx(w.Provider,{value:{currentSlide:g,goToSlideId:ie},children:r.jsxs("div",{...X,ref:Y,className:v("ams-image-slider",n&&"ams-image-slider--controls",m&&"ams-image-slider--scrollbar",p&&"ams-image-slider--snapstop",u&&"ams-image-slider--thumbnails",d),children:[n&&r.jsxs("div",{className:"ams-image-slider__controls",onKeyDown:ce,children:[r.jsx(R,{svg:de,label:i,inverseColor:!0,className:"ams-image-slider__control ams-image-slider__control--previous",onClick:()=>V(),disabled:ee}),r.jsx(R,{svg:me,label:W,inverseColor:!0,className:"ams-image-slider__control ams-image-slider__control--next",onClick:()=>C(),disabled:se})]}),r.jsx(J,{tabIndex:0,ref:o,children:t}),u&&r.jsx(Q,{thumbnails:l.Children.toArray(t)})]})})});U.displayName="ImageSlider";const c=Object.assign(U,{Item:H});try{c.displayName="ImageSlider",c.__docgenInfo={description:"",displayName:"ImageSlider",props:{controls:{defaultValue:null,description:"Show navigation controls",name:"controls",required:!1,type:{name:"boolean"}},scrollbar:{defaultValue:null,description:"Show native scrollbar inside gallery",name:"scrollbar",required:!1,type:{name:"boolean"}},snapstop:{defaultValue:null,description:"Prevent passing over possible snap elements",name:"snapstop",required:!1,type:{name:"boolean"}},thumbnails:{defaultValue:null,description:"Show thumbnails",name:"thumbnails",required:!1,type:{name:"boolean"}},previousLabel:{defaultValue:{value:"Vorige"},description:"Label for the previous button",name:"previousLabel",required:!1,type:{name:"string"}},nextLabel:{defaultValue:{value:"Volgende"},description:"Label for the next button",name:"nextLabel",required:!1,type:{name:"string"}}}}}catch{}const pe={title:"Components/Media/Image Slider",component:c,args:{children:[r.jsx(c.Item,{slideId:0,children:r.jsx(f,{ratio:"x-wide",children:r.jsx(h,{src:"https://picsum.photos/id/122/1280/720",loading:"lazy",cover:!0,alt:"This is gallery image 1"})})}),r.jsx(c.Item,{slideId:1,children:r.jsx(f,{ratio:"x-wide",children:r.jsx(h,{src:"https://picsum.photos/id/101/1280/720",loading:"lazy",cover:!0,alt:"This is gallery image 2"})})}),r.jsx(c.Item,{slideId:2,children:r.jsx(f,{ratio:"x-wide",children:r.jsx(h,{src:"https://picsum.photos/id/153/1280/720",loading:"lazy",cover:!0,alt:"This is gallery image 3"})})}),r.jsx(c.Item,{slideId:3,children:r.jsx(f,{ratio:"x-wide",children:r.jsx(h,{src:"https://picsum.photos/id/159/1280/720",loading:"lazy",cover:!0,alt:"This is gallery image 4"})})}),r.jsx(c.Item,{slideId:4,children:r.jsx(f,{ratio:"x-wide",children:r.jsx(h,{src:"https://picsum.photos/id/123/1280/720",loading:"lazy",cover:!0,alt:"This is gallery image 5"})})})],controls:!0,scrollbar:!1,snapstop:!0,thumbnails:!0}},I={},S={args:{controls:!1}},b={args:{thumbnails:!1}},_={args:{snapstop:!1,thumbnails:!1,controls:!1}},y={args:{scrollbar:!0,controls:!1,thumbnails:!1}};var A,E,L;I.parameters={...I.parameters,docs:{...(A=I.parameters)==null?void 0:A.docs,source:{originalSource:"{}",...(L=(E=I.parameters)==null?void 0:E.docs)==null?void 0:L.source}}};var q,z,O;S.parameters={...S.parameters,docs:{...(q=S.parameters)==null?void 0:q.docs,source:{originalSource:`{
  args: {
    controls: false
  }
}`,...(O=(z=S.parameters)==null?void 0:z.docs)==null?void 0:O.source}}};var k,D,P;b.parameters={...b.parameters,docs:{...(k=b.parameters)==null?void 0:k.docs,source:{originalSource:`{
  args: {
    thumbnails: false
  }
}`,...(P=(D=b.parameters)==null?void 0:D.docs)==null?void 0:P.source}}};var M,$,K;_.parameters={..._.parameters,docs:{...(M=_.parameters)==null?void 0:M.docs,source:{originalSource:`{
  args: {
    snapstop: false,
    thumbnails: false,
    controls: false
  }
}`,...(K=($=_.parameters)==null?void 0:$.docs)==null?void 0:K.source}}};var B,F,G;y.parameters={...y.parameters,docs:{...(B=y.parameters)==null?void 0:B.docs,source:{originalSource:`{
  args: {
    scrollbar: true,
    controls: false,
    thumbnails: false
  }
}`,...(G=(F=y.parameters)==null?void 0:F.docs)==null?void 0:G.source}}};const ge=["Default","NoControls","NoThumbnails","NoSnapstop","NativeScrollbar"],xe=Object.freeze(Object.defineProperty({__proto__:null,Default:I,NativeScrollbar:y,NoControls:S,NoSnapstop:_,NoThumbnails:b,__namedExportsOrder:ge,default:pe},Symbol.toStringTag,{value:"Module"}));export{xe as I,S as N,b as a,_ as b,y as c};
