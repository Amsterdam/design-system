import{j as r}from"./jsx-runtime-BlAj40OV.js";import{r as H,h as J}from"./index.esm-DY3iRp4W.js";import{c as _}from"./clsx-B-dksMZM.js";import{r as o}from"./index-Cs7sjTYM.js";import{I as N}from"./IconButton-DaVLp41G.js";import{A as p}from"./AspectRatio-Cd0KgYDn.js";import{I as g}from"./Image-CVzrCme5.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const Q={currentSlide:0,goToSlideId:()=>{}},b=o.createContext(Q),A=o.forwardRef(({children:a,slideId:d,className:n,...c},h)=>{const{currentSlide:u}=o.useContext(b),m=u===d;return r.jsx("div",{...c,ref:h,className:_("ams-image-slider__item",m&&"ams-image-slider__item--in-view",n),...!m&&{inert:""},children:a})});A.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{slideId:{defaultValue:null,description:"this ID needs to match the key or order of the slides (starting with 0)",name:"slideId",required:!0,type:{name:"number"}}}}}catch{}const E=o.forwardRef(({children:a,className:d,...n},c)=>r.jsx("div",{...n,ref:c,className:_("ams-image-slider__scroller",d),children:a}));E.displayName="ImageSlider.Scroller";try{ImageSlider.Scroller.displayName="ImageSlider.Scroller",ImageSlider.Scroller.__docgenInfo={description:"",displayName:"ImageSlider.Scroller",props:{}}}catch{}const V=o.forwardRef(({thumbnails:a,className:d,...n},c)=>{const{goToSlideId:h}=o.useContext(b);return r.jsx("nav",{...n,ref:c,className:_("ams-image-slider__thumbnails",d),children:a&&a.map((u,m)=>r.jsx("button",{className:"ams-image-slider__thumbnail",onClick:()=>h(m),children:u},m))})});V.displayName="ImageSlider.Thumbnails";try{ImageSlider.Thumbnails.displayName="ImageSlider.Thumbnails",ImageSlider.Thumbnails.__docgenInfo={description:"",displayName:"ImageSlider.Thumbnails",props:{thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!0,type:{name:"ReactNode[]"}}}}}catch{}const k=o.forwardRef(({children:a,className:d,controls:n,scrollbar:c,snapstop:h,thumbnails:u,...m},z)=>{const[f,O]=o.useState(0),[q,D]=o.useState(!0),[L,P]=o.useState(!1),i=o.useRef(null),B=new Set,M=e=>{var S;const s=((S=i.current)==null?void 0:S.children)||[],t=Array.from(s);for(let y of e)B.add(y),y.isIntersecting&&O(t.indexOf(y.target))},j={root:i.current,threshold:.6};o.useEffect(()=>{const e=new IntersectionObserver(M,j);if(i.current){const s=i.current.children,t=Array.from(s);for(let S of t)e.observe(S);i.current.addEventListener("scrollend",K.bind(i.current))}},[i,j]);const K=()=>{F()},x=e=>{const s=i.current;if(!s||!e)return;const t=Math.abs(s.offsetLeft-e.offsetLeft);s.scrollTo(t,0)},$=e=>{var t;const s=(t=i.current)==null?void 0:t.children[e];x(s)},v=()=>{var t;const e=(t=i.current)==null?void 0:t.children[f],s=e==null?void 0:e.nextElementSibling;e!==s&&s&&x(s)},w=()=>{var t;const e=(t=i.current)==null?void 0:t.children[f],s=e==null?void 0:e.previousElementSibling;e!==s&&s&&x(s)},F=()=>{const e=i.current,{lastElementChild:s,firstElementChild:t}=e;D(t===(e==null?void 0:e.children[f])),P(s===(e==null?void 0:e.children[f]))},G=e=>{e.key==="ArrowRight"?v():e.key==="ArrowLeft"&&w()};return r.jsx(b.Provider,{value:{currentSlide:f,goToSlideId:$},children:r.jsxs("div",{...m,ref:z,className:_("ams-image-slider",n&&"ams-image-slider--controls",c&&"ams-image-slider--scrollbar",h&&"ams-image-slider--snapstop",u&&"ams-image-slider--thumbnails",d),children:[n&&r.jsxs("div",{className:"ams-image-slider__controls",onKeyDown:G,children:[r.jsx(N,{svg:H,label:"Vorige",onBackground:"dark",className:"ams-image-slider__control ams-image-slider__control--previous",onClick:()=>w(),disabled:q}),r.jsx(N,{svg:J,label:"Volgende",onBackground:"dark",className:"ams-image-slider__control ams-image-slider__control--next",onClick:()=>v(),disabled:L})]}),r.jsx(E,{tabIndex:0,ref:i,children:a}),u&&r.jsx(V,{thumbnails:o.Children.toArray(a)})]})})});k.displayName="ImageSlider";const l=Object.assign(k,{Item:A});try{l.displayName="ImageSlider",l.__docgenInfo={description:"",displayName:"ImageSlider",props:{controls:{defaultValue:null,description:"Show navigation controls",name:"controls",required:!1,type:{name:"boolean"}},scrollbar:{defaultValue:null,description:"Show native scrollbar inside gallery",name:"scrollbar",required:!1,type:{name:"boolean"}},snapstop:{defaultValue:null,description:"Prevent passing over possible snap elements",name:"snapstop",required:!1,type:{name:"boolean"}},thumbnails:{defaultValue:null,description:"Show thumbnails",name:"thumbnails",required:!1,type:{name:"boolean"}}}}}catch{}const U={title:"Components/Media/Image Slider",component:l,args:{children:[r.jsx(l.Item,{slideId:0,children:r.jsx(p,{ratio:"x-wide",children:r.jsx(g,{src:"https://picsum.photos/id/122/1280/720",loading:"lazy",cover:!0})})}),r.jsx(l.Item,{slideId:1,children:r.jsx(p,{ratio:"x-wide",children:r.jsx(g,{src:"https://picsum.photos/id/101/1280/720",loading:"lazy",cover:!0})})}),r.jsx(l.Item,{slideId:2,children:r.jsx(p,{ratio:"x-wide",children:r.jsx(g,{src:"https://picsum.photos/id/153/1280/720",loading:"lazy",cover:!0})})}),r.jsx(l.Item,{slideId:3,children:r.jsx(p,{ratio:"x-wide",children:r.jsx(g,{src:"https://picsum.photos/id/159/1280/720",loading:"lazy",cover:!0})})}),r.jsx(l.Item,{slideId:4,children:r.jsx(p,{ratio:"x-wide",children:r.jsx(g,{src:"https://picsum.photos/id/123/1280/720",loading:"lazy",cover:!0})})}),r.jsx(l.Item,{slideId:5,children:r.jsx(p,{ratio:"x-wide",children:r.jsx(g,{src:"https://picsum.photos/id/151/1280/720",loading:"lazy",cover:!0})})})],controls:!0,scrollbar:!1,snapstop:!0,thumbnails:!0}},I={};var C,T,R;I.parameters={...I.parameters,docs:{...(C=I.parameters)==null?void 0:C.docs,source:{originalSource:"{}",...(R=(T=I.parameters)==null?void 0:T.docs)==null?void 0:R.source}}};const W=["Default"],ae=Object.freeze(Object.defineProperty({__proto__:null,Default:I,__namedExportsOrder:W,default:U},Symbol.toStringTag,{value:"Module"}));export{ae as I};
