import{j as o}from"./jsx-runtime-BlAj40OV.js";import{j as le}from"./index.esm-BIBfDGpN.js";import{l as ce,e as me}from"./index.esm-Bsc2owIZ.js";import{c as x}from"./clsx-B-dksMZM.js";import{r as n}from"./index-Cs7sjTYM.js";import{I as de}from"./Image-CVzrCme5.js";import{I as E}from"./IconButton-BgcGyAbu.js";/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */const pe={currentImageId:0,goToImageId:()=>{}},C=n.createContext(pe),L=n.forwardRef(({children:i,className:l,imageId:d,...c},h)=>{const{currentImageId:f}=n.useContext(C),g=f===d;return o.jsx("div",{...c,className:x("ams-image-slider__item",g&&"ams-image-slider__item--in-view",l),...!g&&{inert:""},ref:h,children:i})});L.displayName="ImageSlider.Item";try{ImageSlider.Item.displayName="ImageSlider.Item",ImageSlider.Item.__docgenInfo={description:"",displayName:"ImageSlider.Item",props:{imageId:{defaultValue:null,description:"this ID needs to match the key or order of the images (starting with 0)",name:"imageId",required:!0,type:{name:"number"}}}}}catch{}const Q=n.forwardRef(({children:i,className:l,...d},c)=>o.jsx("div",{...d,ref:c,className:x("ams-image-slider__scroller",l),children:i}));Q.displayName="ImageSlider.Scroller";try{ImageSlider.Scroller.displayName="ImageSlider.Scroller",ImageSlider.Scroller.__docgenInfo={description:"",displayName:"ImageSlider.Scroller",props:{}}}catch{}const U=n.forwardRef(({className:i,currentImageId:l,imageLabel:d,thumbnails:c,...h},f)=>{const{goToImageId:g}=n.useContext(C);return o.jsx("nav",{...h,ref:f,className:x("ams-image-slider__thumbnails",i),role:"tablist",children:c&&c.map((p,m)=>o.jsx("button",{"aria-label":`${d} ${m+1}: ${p.alt}`,"aria-posinset":m+1,"aria-selected":l===m?"true":"false","aria-setsize":c.length,className:x("ams-image-slider__thumbnail",p.ratio&&`ams-aspect-ratio--${p.ratio}`,l===m&&"ams-image-slider__thumbnail--in-view"),onClick:()=>g(m),role:"tab",style:{backgroundImage:`url(${p.src})`},tabIndex:l===m?0:-1},m))})});U.displayName="ImageSlider.Thumbnails";try{ImageSlider.Thumbnails.displayName="ImageSlider.Thumbnails",ImageSlider.Thumbnails.__docgenInfo={description:"",displayName:"ImageSlider.Thumbnails",props:{currentImageId:{defaultValue:null,description:"",name:"currentImageId",required:!1,type:{name:"number"}},imageLabel:{defaultValue:null,description:"",name:"imageLabel",required:!1,type:{name:"string"}},thumbnails:{defaultValue:null,description:"",name:"thumbnails",required:!0,type:{name:"ImageSliderImageProps[]"}}}}}catch{}const W=n.forwardRef(({className:i,controls:l,imageLabel:d="Afbeelding",images:c,nextLabel:h="Volgende",previousLabel:f="Vorige",scrollbar:g,thumbnails:p,...m},X)=>{const[u,Y]=n.useState(0),[Z,ee]=n.useState(!0),[re,se]=n.useState(!1),te=new Set,t=n.useRef(null),ae=e=>{var s;const r=Array.from(((s=t.current)==null?void 0:s.children)||[]);for(let a of e)te.add(a),a.isIntersecting&&Y(r.indexOf(a.target))},V={root:t.current,threshold:.6};n.useEffect(()=>{const e=new IntersectionObserver(ae,V),r=s=>{switch(s.key){case"ArrowLeft":N();break;case"ArrowRight":y();break}};if(t.current){const s=Array.from(t.current.children);for(let a of s)e.observe(a);t.current.addEventListener("scrollend",T),t.current.addEventListener("keydown",r)}return()=>{t.current&&(t.current.removeEventListener("scrollend",T),t.current.removeEventListener("keydown",r))}},[t,V]);const T=()=>{ne()},oe=e=>{var s;const r=(s=e.target.parentElement)==null?void 0:s.children[u];if(e.key==="ArrowRight"){const a=(r==null?void 0:r.nextElementSibling)??null;if(a===r)return;a&&(a.focus(),y())}if(e.key==="ArrowLeft"){const a=(r==null?void 0:r.previousElementSibling)??null;if(a===r)return;a&&(a.focus(),N())}},v=e=>{const r=t.current;if(!r||!e)return;const s=Math.abs(r.offsetLeft-e.offsetLeft);r.scrollTo(s,0)},ie=e=>{var s;const r=(s=t.current)==null?void 0:s.children[e];v(r)},y=()=>{var s;const e=(s=t.current)==null?void 0:s.children[u],r=e==null?void 0:e.nextElementSibling;e!==r&&r&&v(r)},N=()=>{var s;const e=(s=t.current)==null?void 0:s.children[u],r=e==null?void 0:e.previousElementSibling;e!==r&&r&&v(r)},ne=()=>{const e=t.current,{lastElementChild:r,firstElementChild:s}=e;ee(s===(e==null?void 0:e.children[u])),se(r===(e==null?void 0:e.children[u]))};return o.jsx(C.Provider,{value:{currentImageId:u,goToImageId:ie},children:o.jsxs("div",{...m,"aria-roledescription":"carousel",className:x("ams-image-slider",l&&"ams-image-slider--controls",g&&"ams-image-slider--scrollbar",p&&"ams-image-slider--thumbnails",i),ref:X,tabIndex:-1,children:[l&&o.jsxs("div",{className:"ams-image-slider__controls",children:[o.jsx(E,{className:"ams-image-slider__control ams-image-slider__control--previous",disabled:Z,inverseColor:!0,label:f,onClick:()=>N(),svg:ce}),o.jsx(E,{className:"ams-image-slider__control ams-image-slider__control--next",disabled:re,inverseColor:!0,label:h,onClick:()=>y(),svg:me})]}),o.jsx(Q,{"aria-live":"polite",ref:t,role:"group",tabIndex:0,children:c.map(({alt:e,sizes:r,src:s,srcSet:a},k)=>o.jsx(L,{imageId:k,children:o.jsx(de,{alt:e,sizes:r,src:s,srcSet:a})},k))}),p&&o.jsx(U,{currentImageId:u,imageLabel:d,onKeyDown:oe,thumbnails:c})]})})});W.displayName="ImageSlider";const j=Object.assign(W,{Item:L});try{j.displayName="ImageSlider",j.__docgenInfo={description:"",displayName:"ImageSlider",props:{controls:{defaultValue:null,description:"Show navigation controls",name:"controls",required:!1,type:{name:"boolean"}},imageLabel:{defaultValue:{value:"Afbeelding"},description:"Label for the image if you need to translate the alt text",name:"imageLabel",required:!1,type:{name:"string"}},images:{defaultValue:null,description:"An array of images to display",name:"images",required:!0,type:{name:"ImageSliderImageProps[]"}},nextLabel:{defaultValue:{value:"Volgende"},description:"Label for the next button",name:"nextLabel",required:!1,type:{name:"string"}},previousLabel:{defaultValue:{value:"Vorige"},description:"Label for the previous button",name:"previousLabel",required:!1,type:{name:"string"}},scrollbar:{defaultValue:null,description:"Show native scrollbar inside gallery",name:"scrollbar",required:!1,type:{name:"boolean"}},thumbnails:{defaultValue:null,description:"Show thumbnails",name:"thumbnails",required:!1,type:{name:"boolean"}}}}}catch{}const ue={title:"Components/Media/Image Slider",component:j,args:{controls:!0,images:[{alt:"Bridge",ratio:"x-wide",src:"https://picsum.photos/id/122/1280/720"},{alt:"Bunker",ratio:"x-wide",src:"https://picsum.photos/id/101/1280/720"},{alt:"Chairs",ratio:"x-wide",src:"https://picsum.photos/id/153/1280/720"},{alt:"Droplet",ratio:"x-wide",src:"https://picsum.photos/id/159/1280/720"},{alt:"Dew",ratio:"x-wide",src:"https://picsum.photos/id/123/1280/720"}],scrollbar:!1,thumbnails:!0},decorators:[i=>o.jsx(le,{children:o.jsx(i,{})})]},I={},b={args:{controls:!1}},S={args:{thumbnails:!1}},w={args:{controls:!1,scrollbar:!0,thumbnails:!1}},_={args:{images:[{alt:"Bridge",ratio:"x-wide",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/122/640/360",srcSet:"https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w"},{alt:"Bunker",ratio:"x-wide",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/101/640/360",srcSet:"https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w"},{alt:"Chairs",ratio:"x-wide",sizes:"(max-width: 36rem) 640px, 50vw",src:"https://picsum.photos/id/153/640/360",srcSet:"https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w"}]}};var A,q,R;I.parameters={...I.parameters,docs:{...(A=I.parameters)==null?void 0:A.docs,source:{originalSource:"{}",...(R=(q=I.parameters)==null?void 0:q.docs)==null?void 0:R.source}}};var z,D,B;b.parameters={...b.parameters,docs:{...(z=b.parameters)==null?void 0:z.docs,source:{originalSource:`{
  args: {
    controls: false
  }
}`,...(B=(D=b.parameters)==null?void 0:D.docs)==null?void 0:B.source}}};var O,$,P;S.parameters={...S.parameters,docs:{...(O=S.parameters)==null?void 0:O.docs,source:{originalSource:`{
  args: {
    thumbnails: false
  }
}`,...(P=($=S.parameters)==null?void 0:$.docs)==null?void 0:P.source}}};var K,M,F;w.parameters={...w.parameters,docs:{...(K=w.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: {
    controls: false,
    scrollbar: true,
    thumbnails: false
  }
}`,...(F=(M=w.parameters)==null?void 0:M.docs)==null?void 0:F.source}}};var G,H,J;_.parameters={..._.parameters,docs:{...(G=_.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: {
    images: [{
      alt: 'Bridge',
      ratio: 'x-wide',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/122/640/360',
      srcSet: 'https://picsum.photos/id/122/640/360 640w, https://picsum.photos/id/122/1280/720 1280w'
    }, {
      alt: 'Bunker',
      ratio: 'x-wide',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/101/640/360',
      srcSet: 'https://picsum.photos/id/101/640/360 640w, https://picsum.photos/id/101/1280/720 1280w'
    }, {
      alt: 'Chairs',
      ratio: 'x-wide',
      sizes: '(max-width: 36rem) 640px, 50vw',
      src: 'https://picsum.photos/id/153/640/360',
      srcSet: 'https://picsum.photos/id/153/640/360 640w, https://picsum.photos/id/153/1280/720 1280w'
    }]
  }
}`,...(J=(H=_.parameters)==null?void 0:H.docs)==null?void 0:J.source}}};const ge=["Default","NoControls","NoThumbnails","NativeScrollbar","SourceSetImages"],xe=Object.freeze(Object.defineProperty({__proto__:null,Default:I,NativeScrollbar:w,NoControls:b,NoThumbnails:S,SourceSetImages:_,__namedExportsOrder:ge,default:ue},Symbol.toStringTag,{value:"Module"}));export{xe as I,b as N,_ as S,S as a,w as b};
