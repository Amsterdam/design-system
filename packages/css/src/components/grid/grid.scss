/**
 * @license EUPL-1.2+
 * Copyright Gemeente Amsterdam
 */

@import "../../common/breakpoint";

$ams-grid-column-count: 12;
$ams-grid-column-count-medium: 8;
$ams-grid-column-count-wide: 12;
$ams-grid-row-span-max: 4;

.ams-grid {
  column-gap: var(--ams-grid-column-gap);
  display: grid;
  grid-template-columns: repeat(var(--ams-grid-column-count), 1fr);
  padding-inline: var(--ams-grid-padding-inline);
  row-gap: var(--ams-grid-row-gap-md);

  @media screen and (min-width: $ams-breakpoint-medium) {
    grid-template-columns: repeat(var(--ams-grid-medium-column-count), 1fr);
  }

  @media screen and (min-width: $ams-breakpoint-wide) {
    grid-template-columns: repeat(var(--ams-grid-wide-column-count), 1fr);
  }
}

// Grid gap

.ams-grid--gap-vertical--none {
  row-gap: initial;
}

.ams-grid--gap-vertical--small {
  row-gap: var(--ams-grid-row-gap-sm);
}

.ams-grid--gap-vertical--large {
  row-gap: var(--ams-grid-row-gap-lg);
}

// Grid padding

.ams-grid--padding-bottom--small {
  padding-block-end: var(--ams-grid-padding-block-sm);
}

.ams-grid--padding-bottom--medium {
  padding-block-end: var(--ams-grid-padding-block-md);
}

.ams-grid--padding-bottom--large {
  padding-block-end: var(--ams-grid-padding-block-lg);
}

.ams-grid--padding-top--small {
  padding-block-start: var(--ams-grid-padding-block-sm);
}

.ams-grid--padding-top--medium {
  padding-block-start: var(--ams-grid-padding-block-md);
}

.ams-grid--padding-top--large {
  padding-block-start: var(--ams-grid-padding-block-lg);
}

.ams-grid--padding-vertical--small {
  padding-block: var(--ams-grid-padding-block-sm);
}

.ams-grid--padding-vertical--medium {
  padding-block: var(--ams-grid-padding-block-md);
}

.ams-grid--padding-vertical--large {
  padding-block: var(--ams-grid-padding-block-lg);
}

.ams-grid__cell--span-all {
  grid-column: 1 / -1;
}

// Column span
// The order of these declaration blocks ensures the intended specificity.

@for $i from 1 through $ams-grid-column-count {
  .ams-grid__cell--span-#{$i} {
    grid-column-end: span $i;
  }

  .ams-grid__cell--start-#{$i} {
    grid-column-start: $i;
  }
}

@media screen and (min-width: $ams-breakpoint-medium) {
  @for $i from 1 through $ams-grid-column-count-medium {
    .ams-grid__cell--span-#{$i}-medium {
      grid-column-end: span $i;
    }

    .ams-grid__cell--start-#{$i}-medium {
      grid-column-start: $i;
    }
  }
}

@media screen and (min-width: $ams-breakpoint-wide) {
  @for $i from 1 through $ams-grid-column-count-wide {
    .ams-grid__cell--span-#{$i}-wide {
      grid-column-end: span $i;
    }

    .ams-grid__cell--start-#{$i}-wide {
      grid-column-start: $i;
    }
  }
}

// Row span

@for $i from 1 through $ams-grid-row-span-max {
  .ams-grid__cell--row-span-#{$i} {
    grid-row-end: span $i;
  }

  .ams-grid__cell--row-start-#{$i} {
    grid-row-start: $i;
  }
}

@media screen and (min-width: $ams-breakpoint-medium) {
  @for $i from 1 through $ams-grid-row-span-max {
    .ams-grid__cell--row-span-#{$i}-medium {
      grid-row-end: span $i;
    }

    .ams-grid__cell--row-start-#{$i}-medium {
      grid-row-start: $i;
    }
  }
}

@media screen and (min-width: $ams-breakpoint-wide) {
  @for $i from 1 through $ams-grid-row-span-max {
    .ams-grid__cell--row-span-#{$i}-wide {
      grid-row-end: span $i;
    }

    .ams-grid__cell--row-start-#{$i}-wide {
      grid-row-start: $i;
    }
  }
}

// Cover gap

.ams-grid__cell--cover-gap {
  margin-block: calc(var(--ams-space-grid-md) * -1);
  margin-inline: calc(var(--ams-space-grid-lg) * -1);

  .ams-grid--gap-vertical--small > & {
    margin-block: calc(var(--ams-space-grid-sm) * -1);
  }

  .ams-grid--gap-vertical--large > & {
    margin-block: calc(var(--ams-space-grid-lg) * -1);
  }
}
